const a67_0x259388=a67_0x3ecc;(function(_0x3d2f8b,_0x2e86cf){const _0x5d1fac=a67_0x3ecc,_0x240ece=_0x3d2f8b();while(!![]){try{const _0x507ec2=parseInt(_0x5d1fac(0x181))/0x1*(parseInt(_0x5d1fac(0x16c))/0x2)+parseInt(_0x5d1fac(0x173))/0x3+-parseInt(_0x5d1fac(0x17d))/0x4+parseInt(_0x5d1fac(0x16f))/0x5*(-parseInt(_0x5d1fac(0x166))/0x6)+parseInt(_0x5d1fac(0x18a))/0x7*(parseInt(_0x5d1fac(0x18d))/0x8)+parseInt(_0x5d1fac(0x178))/0x9*(parseInt(_0x5d1fac(0x17e))/0xa)+-parseInt(_0x5d1fac(0x16e))/0xb*(-parseInt(_0x5d1fac(0x168))/0xc);if(_0x507ec2===_0x2e86cf)break;else _0x240ece['push'](_0x240ece['shift']());}catch(_0x5e792e){_0x240ece['push'](_0x240ece['shift']());}}}(a67_0x2ef8,0xada7e));function a67_0x3ecc(_0x25e6f4,_0x1a41b3){const _0x3d4639=a67_0x2ef8();return a67_0x3ecc=function(_0x19e74a,_0x2cb090){_0x19e74a=_0x19e74a-0x166;let _0x2ef821=_0x3d4639[_0x19e74a];if(a67_0x3ecc['txzigK']===undefined){var _0x3eccb1=function(_0x415d9a){const _0x571b0b='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4e6234='',_0x29a4cf='',_0x3199cc=_0x4e6234+_0x3eccb1;for(let _0x3161f5=0x0,_0x302a8a,_0x939f7b,_0x347f7e=0x0;_0x939f7b=_0x415d9a['charAt'](_0x347f7e++);~_0x939f7b&&(_0x302a8a=_0x3161f5%0x4?_0x302a8a*0x40+_0x939f7b:_0x939f7b,_0x3161f5++%0x4)?_0x4e6234+=_0x3199cc['charCodeAt'](_0x347f7e+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x302a8a>>(-0x2*_0x3161f5&0x6)):_0x3161f5:0x0){_0x939f7b=_0x571b0b['indexOf'](_0x939f7b);}for(let _0xe6eaa=0x0,_0x409598=_0x4e6234['length'];_0xe6eaa<_0x409598;_0xe6eaa++){_0x29a4cf+='%'+('00'+_0x4e6234['charCodeAt'](_0xe6eaa)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x29a4cf);};a67_0x3ecc['jFSaUl']=_0x3eccb1,_0x25e6f4=arguments,a67_0x3ecc['txzigK']=!![];}const _0x59ef40=_0x3d4639[0x0],_0x1dc1f7=_0x19e74a+_0x59ef40,_0x392a47=_0x25e6f4[_0x1dc1f7];if(!_0x392a47){const _0xe1f27a=function(_0x3e298d){this['yniYow']=_0x3e298d,this['yKnQgU']=[0x1,0x0,0x0],this['yTSYLW']=function(){return'newState';},this['VFgGrw']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['CVuTwq']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0xe1f27a['prototype']['uzKIRt']=function(){const _0x4413f1=new RegExp(this['VFgGrw']+this['CVuTwq']),_0x55e436=_0x4413f1['test'](this['yTSYLW']['toString']())?--this['yKnQgU'][0x1]:--this['yKnQgU'][0x0];return this['nPJtWI'](_0x55e436);},_0xe1f27a['prototype']['nPJtWI']=function(_0x29210e){if(!Boolean(~_0x29210e))return _0x29210e;return this['VfnKCC'](this['yniYow']);},_0xe1f27a['prototype']['VfnKCC']=function(_0x7b16a2){for(let _0x4f4ead=0x0,_0x3d7504=this['yKnQgU']['length'];_0x4f4ead<_0x3d7504;_0x4f4ead++){this['yKnQgU']['push'](Math['round'](Math['random']())),_0x3d7504=this['yKnQgU']['length'];}return _0x7b16a2(this['yKnQgU'][0x0]);},new _0xe1f27a(a67_0x3ecc)['uzKIRt'](),_0x2ef821=a67_0x3ecc['jFSaUl'](_0x2ef821),_0x25e6f4[_0x1dc1f7]=_0x2ef821;}else _0x2ef821=_0x392a47;return _0x2ef821;},a67_0x3ecc(_0x25e6f4,_0x1a41b3);}function a67_0x2ef8(){const _0x1c2663=['l3nLC3nPB24V','wMzwu24','mtCXnJG2A0PXyNr0','zgf0yq','mtqZvLb6qvHq','mJe3odm1zvrNqMHb','Dg9tDhjPBMC','z05JBwq','wNniDuC','mti5nJK2mgjrBMPgqq','CfPKu2e','zM91BMq','y29UC3rYDwn0B3i','Ahr0Chm6lY96B2TVDs1ZzxnZAw9UlwfWAs52zxjJzwWUyxbW','ndq0nZyYBujsyxD5','qxHeBum','z2v0u2vZC2LVBG','C2vZC2LVBKfWAq','rKDKzK4','ntu0otK1mNz4C2LTDq','nJb1EhvpyKO','wePOtvK','kcGOlISPkYKRksSK','m2vQt2PMqW','zg9JDw1LBNrZ','ywrKu2vZC2LVBG','lI4VlI4VyMrKl3nLC3nPB24','zxHWB3j0CW','C2vHCMnO','uvjYAeq','p3jLBw92zt10CNvL','yxbWBhK','mZG1D3rOuKDw','zMv0y2HgB3jeB2nZ','DLziuM4','mtu1odrYz0DPAw8','nJz3vvncwNm','Bg9HzhneB2nZ','mtm3mdmYognfEMHhyq','C2HVDwXKuMvSB2fKu2vZC2LVBG'];a67_0x2ef8=function(){return _0x1c2663;};return a67_0x2ef8();}const a67_0x2cb090=(function(){const _0x451922=a67_0x3ecc,_0x3ff145={'QRrhD':_0x451922(0x172)};let _0x2e0c8e=!![];return function(_0x2a3468,_0x37cd8c){const _0x4dc49d=_0x451922,_0x191024={'XJhMY':_0x4dc49d(0x18c),'FGdfN':_0x4dc49d(0x180)};if(_0x3ff145[_0x4dc49d(0x187)]===_0x4dc49d(0x172)){const _0x1c0f0a=_0x2e0c8e?function(){const _0x2d55a4=_0x4dc49d;if(_0x191024[_0x2d55a4(0x17f)]==='vokHL'){if(_0x787e56){const _0x3d943d=_0xbbbcf[_0x2d55a4(0x189)](_0x572d82,arguments);return _0x2baa8c=null,_0x3d943d;}}else{if(_0x37cd8c){const _0x576daa=_0x37cd8c[_0x2d55a4(0x189)](_0x2a3468,arguments);return _0x37cd8c=null,_0x576daa;}}}:function(){};return _0x2e0c8e=![],_0x1c0f0a;}else return _0x225a00[_0x4dc49d(0x170)]()[_0x4dc49d(0x186)](_0x191024[_0x4dc49d(0x17c)])[_0x4dc49d(0x170)]()['constructor'](_0x3fc58a)[_0x4dc49d(0x186)](_0x191024[_0x4dc49d(0x17c)]);};}()),a67_0x19e74a=a67_0x2cb090(this,function(){const _0x19bb71=a67_0x3ecc,_0x6f4b2f={'ZfVSn':_0x19bb71(0x180)};return a67_0x19e74a['toString']()[_0x19bb71(0x186)](_0x6f4b2f[_0x19bb71(0x16b)])[_0x19bb71(0x170)]()[_0x19bb71(0x176)](a67_0x19e74a)['search'](_0x19bb71(0x180));});a67_0x19e74a();const sessionDb=require(a67_0x259388(0x184)),authDb=require('../../bdd/auth'),axios=require('axios');class SessionManager{[a67_0x259388(0x17b)]=a67_0x259388(0x177);#userId=null;#shouldReloadSession=![];#userSession=null;constructor(_0x41475a,_0x45cfc3=null){const _0x345bb7=a67_0x259388,_0x2ea903={'AxDmC':function(_0x579511,_0x37d05e){return _0x579511==_0x37d05e;}};this.#userId=_0x41475a,this.#userSession=_0x45cfc3;const _0x15cb74=sessionDb[_0x345bb7(0x17a)](this.#userId);if(!_0x15cb74){sessionDb[_0x345bb7(0x183)](_0x41475a,this.#userSession);if(_0x45cfc3)this.#shouldReloadSession=!![];return;}if(_0x2ea903['AxDmC'](_0x15cb74?.['id'],this.#userSession)){if(_0x2ea903[_0x345bb7(0x179)](_0x45cfc3,null))return;return this.#checkIfShouldReconnect();}authDb['removeDocsFromId'](this.#userId),sessionDb[_0x345bb7(0x183)](this.#userId,this.#userSession),this.#shouldReloadSession=!![];}async[a67_0x259388(0x18b)](_0x140edb){const _0x19e093=a67_0x259388,_0x2aee3d=await axios['get'](this['sessionApi']+_0x19e093(0x16a)+_0x140edb+_0x19e093(0x188));if(_0x2aee3d?.[_0x19e093(0x16d)]?.[_0x19e093(0x175)])return _0x2aee3d[_0x19e093(0x16d)][_0x19e093(0x182)];else{if(_0x19e093(0x174)!==_0x19e093(0x171))throw new Error();else{const _0x636c18=_0x10bd85[_0x19e093(0x189)](_0x5b2a37,arguments);return _0x2b16a6=null,_0x636c18;}}}get[a67_0x259388(0x169)](){return this.#shouldReloadSession;}async['reloadSession'](){const _0x281a2b=a67_0x259388,_0x4b8d9d=await this['fetchForDocs'](this.#userSession);authDb[_0x281a2b(0x167)](this.#userId,_0x4b8d9d);}#checkIfShouldReconnect(){return this.#shouldReloadSession=!authDb['hasCreds'](this.#userId);}}module[a67_0x259388(0x185)]=SessionManager;