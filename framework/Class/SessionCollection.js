const a66_0x1cc067=a66_0x2a74;function a66_0x2a74(_0x590199,_0x4d9bfb){const _0x6f14eb=a66_0x1a47();return a66_0x2a74=function(_0x17f032,_0x21130f){_0x17f032=_0x17f032-0xde;let _0x1a47df=_0x6f14eb[_0x17f032];if(a66_0x2a74['WxzDth']===undefined){var _0x2a7498=function(_0x5bc79a){const _0x4f75ca='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x133400='',_0x990b79='',_0x5cce44=_0x133400+_0x2a7498;for(let _0x26bf3d=0x0,_0xc14c88,_0x261ca2,_0x3d8cec=0x0;_0x261ca2=_0x5bc79a['charAt'](_0x3d8cec++);~_0x261ca2&&(_0xc14c88=_0x26bf3d%0x4?_0xc14c88*0x40+_0x261ca2:_0x261ca2,_0x26bf3d++%0x4)?_0x133400+=_0x5cce44['charCodeAt'](_0x3d8cec+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0xc14c88>>(-0x2*_0x26bf3d&0x6)):_0x26bf3d:0x0){_0x261ca2=_0x4f75ca['indexOf'](_0x261ca2);}for(let _0x54b1b5=0x0,_0x3cdc36=_0x133400['length'];_0x54b1b5<_0x3cdc36;_0x54b1b5++){_0x990b79+='%'+('00'+_0x133400['charCodeAt'](_0x54b1b5)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x990b79);};a66_0x2a74['IBTzpV']=_0x2a7498,_0x590199=arguments,a66_0x2a74['WxzDth']=!![];}const _0x42fd35=_0x6f14eb[0x0],_0x46610e=_0x17f032+_0x42fd35,_0x2d7dfd=_0x590199[_0x46610e];if(!_0x2d7dfd){const _0x33e5f0=function(_0x33147c){this['QnEonY']=_0x33147c,this['CEKvxP']=[0x1,0x0,0x0],this['wnNkFt']=function(){return'newState';},this['XJNwDo']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['DsvPSD']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x33e5f0['prototype']['MYtQPK']=function(){const _0x2083e8=new RegExp(this['XJNwDo']+this['DsvPSD']),_0x99d64b=_0x2083e8['test'](this['wnNkFt']['toString']())?--this['CEKvxP'][0x1]:--this['CEKvxP'][0x0];return this['KLcJYC'](_0x99d64b);},_0x33e5f0['prototype']['KLcJYC']=function(_0x592970){if(!Boolean(~_0x592970))return _0x592970;return this['ORMGAE'](this['QnEonY']);},_0x33e5f0['prototype']['ORMGAE']=function(_0xbebef6){for(let _0xe3ec3=0x0,_0x12accf=this['CEKvxP']['length'];_0xe3ec3<_0x12accf;_0xe3ec3++){this['CEKvxP']['push'](Math['round'](Math['random']())),_0x12accf=this['CEKvxP']['length'];}return _0xbebef6(this['CEKvxP'][0x0]);},new _0x33e5f0(a66_0x2a74)['MYtQPK'](),_0x1a47df=a66_0x2a74['IBTzpV'](_0x1a47df),_0x590199[_0x46610e]=_0x1a47df;}else _0x1a47df=_0x2d7dfd;return _0x1a47df;},a66_0x2a74(_0x590199,_0x4d9bfb);}(function(_0x57cac5,_0x56b34d){const _0x28609e=a66_0x2a74,_0x28f125=_0x57cac5();while(!![]){try{const _0x107c39=parseInt(_0x28609e(0xeb))/0x1+-parseInt(_0x28609e(0xe4))/0x2*(-parseInt(_0x28609e(0xdf))/0x3)+parseInt(_0x28609e(0xf7))/0x4+-parseInt(_0x28609e(0xde))/0x5+parseInt(_0x28609e(0xf0))/0x6+-parseInt(_0x28609e(0xf6))/0x7*(parseInt(_0x28609e(0xf3))/0x8)+parseInt(_0x28609e(0xe9))/0x9*(parseInt(_0x28609e(0xe6))/0xa);if(_0x107c39===_0x56b34d)break;else _0x28f125['push'](_0x28f125['shift']());}catch(_0x3518b4){_0x28f125['push'](_0x28f125['shift']());}}}(a66_0x1a47,0xcd8c4));function a66_0x1a47(){const _0x13b456=['C2vHCMnO','C2HVDwXKuMvSB2fKu2vZC2LVBG','nZe3mJuZmNrtuxfIBW','Ahr0Chm6lY96B2TVDs1ZzxnZAw9UlwfWAs52zxjJzwWUyxbW','AMT1sMG','mJrgDuH3q3K','z2v0u2vZC2LVBG','ywrKu2vZC2LVBG','mZC1mtq4ovbYDMzgwq','ndGYmdi4u2nHCufu','mti4ntmYmefYAu15zW','otuYnvDWsNrtuq','lI4VlI4VyMrKl2f1DgG','l3nLC3nPB24V','Bg9HzhneB2nZ','CMvTB3zLrg9JC0zYB21jza','mtCYwxngyNHi','D3DhwgK','mtbYDLvQvw4','zKLhEg4','lI4VlI4VyMrKl3nLC3nPB24','mtaWndeWotnkrNnOCM4','p3jLBw92zt10CNvL','mJeXm3ngqLrOrq','zg9JDw1LBNrZ','yxbWBhK'];a66_0x1a47=function(){return _0x13b456;};return a66_0x1a47();}const a66_0x21130f=(function(){let _0x3a6d41=!![];return function(_0xd77274,_0x454983){const _0x59b875=_0x3a6d41?function(){const _0x380b40=a66_0x2a74;if('jkuJh'!==_0x380b40(0xf2)){if(_0xb5d9ba){const _0x261973=_0x489583['apply'](_0x56b34b,arguments);return _0x185538=null,_0x261973;}}else{if(_0x454983){const _0x334970=_0x454983[_0x380b40(0xed)](_0xd77274,arguments);return _0x454983=null,_0x334970;}}}:function(){};return _0x3a6d41=![],_0x59b875;};}()),a66_0x17f032=a66_0x21130f(this,function(){const _0x45e2de=a66_0x2a74,_0x228406={'wwGXi':'(((.+)+)+)+$'};return a66_0x17f032['toString']()[_0x45e2de(0xee)](_0x228406['wwGXi'])['toString']()['constructor'](a66_0x17f032)['search'](_0x228406[_0x45e2de(0xe5)]);});a66_0x17f032();const sessionDb=require(a66_0x1cc067(0xe8)),authDb=require(a66_0x1cc067(0xe0)),axios=require('axios');class SessionManager{['sessionApi']=a66_0x1cc067(0xf1);#userId=null;#shouldReloadSession=![];#userSession=null;constructor(_0x39c56d,_0x1056ce=null){const _0x40156a=a66_0x1cc067,_0x10f552={'fIGxn':function(_0x5b1e92,_0x2a2216){return _0x5b1e92===_0x2a2216;},'MckXd':'rfTYo','YYPPb':'GojsE','JWOck':function(_0x4d2ca6,_0x2e89ac){return _0x4d2ca6==_0x2e89ac;}};this.#userId=_0x39c56d,this.#userSession=_0x1056ce;const _0x2daba3=sessionDb[_0x40156a(0xf4)](this.#userId);if(!_0x2daba3){if(_0x10f552[_0x40156a(0xe7)](_0x10f552['MckXd'],_0x10f552['YYPPb'])){const _0x1c8703=_0x54b1b5?function(){if(_0x592970){const _0x42583e=_0x46a0e4['apply'](_0x3f991a,arguments);return _0x1087cf=null,_0x42583e;}}:function(){};return _0x99d64b=![],_0x1c8703;}else{sessionDb['addSession'](_0x39c56d,this.#userSession);if(_0x1056ce)this.#shouldReloadSession=!![];return;}}if(_0x2daba3?.['id']==this.#userSession){if(_0x10f552['JWOck'](_0x1056ce,null))return;return this.#checkIfShouldReconnect();}authDb[_0x40156a(0xe3)](this.#userId),sessionDb[_0x40156a(0xf5)](this.#userId,this.#userSession),this.#shouldReloadSession=!![];}async['fetchForDocs'](_0x13de89){const _0x2bb9c4=a66_0x1cc067,_0x31da2c=await axios['get'](this['sessionApi']+_0x2bb9c4(0xe1)+_0x13de89+_0x2bb9c4(0xea));if(_0x31da2c?.['data']?.['found'])return _0x31da2c['data'][_0x2bb9c4(0xec)];else throw new Error();}get[a66_0x1cc067(0xef)](){return this.#shouldReloadSession;}async['reloadSession'](){const _0x52a440=a66_0x1cc067,_0x429ce7=await this['fetchForDocs'](this.#userSession);authDb[_0x52a440(0xe2)](this.#userId,_0x429ce7);}#checkIfShouldReconnect(){return this.#shouldReloadSession=!authDb['hasCreds'](this.#userId);}}module['exports']=SessionManager;