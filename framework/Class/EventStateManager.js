const a63_0x54dd50=a63_0x5fdc;(function(_0x4c859b,_0x469141){const _0x1c2261=a63_0x5fdc,_0xafdc45=_0x4c859b();while(!![]){try{const _0x51c0ca=parseInt(_0x1c2261(0x19a))/0x1+parseInt(_0x1c2261(0x181))/0x2*(parseInt(_0x1c2261(0x184))/0x3)+-parseInt(_0x1c2261(0x178))/0x4+parseInt(_0x1c2261(0x195))/0x5+parseInt(_0x1c2261(0x17d))/0x6+parseInt(_0x1c2261(0x190))/0x7*(-parseInt(_0x1c2261(0x196))/0x8)+-parseInt(_0x1c2261(0x177))/0x9;if(_0x51c0ca===_0x469141)break;else _0xafdc45['push'](_0xafdc45['shift']());}catch(_0x554165){_0xafdc45['push'](_0xafdc45['shift']());}}}(a63_0x23c5,0x1e203));const a63_0xc1017f=(function(){let _0x168284=!![];return function(_0x4faa33,_0x1520b3){const _0x4d848d=_0x168284?function(){const _0x29b90b=a63_0x5fdc;if(_0x1520b3){const _0x36cd11=_0x1520b3[_0x29b90b(0x191)](_0x4faa33,arguments);return _0x1520b3=null,_0x36cd11;}}:function(){};return _0x168284=![],_0x4d848d;};}()),a63_0x5cee10=a63_0xc1017f(this,function(){const _0x452555=a63_0x5fdc;return a63_0x5cee10['toString']()[_0x452555(0x18f)]('(((.+)+)+)+$')[_0x452555(0x192)]()['constructor'](a63_0x5cee10)['search'](_0x452555(0x1b6));});function a63_0x23c5(){const _0x26c8bb=['D2fYBG','qunusu9ouW','igLZig5VDYbLBMfIBgvK','oIb0BYbLBMfIBguGAxqk','cIaGicaGicaGsu5trvjuieLove8G','u0vmrunuigv0yxqGrLjptsa','icHQAwqSigfJDgLVBIKkicaGicaGicaGifzbtfvfuYaOpYWGpYKkicaGicaGicaGie9oienptKzmsunukgPPzcKGre8GvvbeqvrfifnfvcbHy3rPB24GpsbLEgnSDwrLzc5Hy3rPB247cIaGicaGicaG','DhjPBq','zLztshG','zgLZywjSzwq','igLZig5VDYbKAxnHyMXLza','qvrbshi','kcGOlISPkYKRksSK','zxrHDa','CMvTB3zL','igLZig5VDYa','igfJDgLVBI8','mtK2odG0ovnruu1Xvq','mtCYmJG4t25vq3rZ','C2v0','rxjYB3iGy2HLy2TPBMCGzw5HyMXLzcbZDgf0zsbMB3iGAMLKia','ihvWzgf0zwqGD2L0AcbHy3rPB24G','ChjLCgfYzq','mteZodCYmLbiyvb3rW','Aw5JBhvKzxm','u05zD3q','wwLNEKi','mNnAzfDyzq','vgHLigfJDgLVBIbMB3iG','BvDMwKm','odyYntzkExzKvvO','zxjYB3i','ifDirvjfigPPzca9id87','Bg9N','igLZig5VDcb2ywXPzc4GvMfSAwqGywn0Aw9UCYbHCMu6ia','Dg9mB3DLCKnHC2u','DgDdyw0','CNvU','ihDPDgGGywn0Aw9Uia','zw5HyMXLzezVCKPPza','u1rbvevt','C2vHCMnO','mZC1mZe5ALjXDw1f','yxbWBhK','Dg9tDhjPBMC','z2v0qwn0Aw9UrM9YsMLK','oIb0BYbJAgfUz2uGDgHLigfJDgLVBIb0BYa','nta1mtq1zNnWyKzO','oezXz2jYtq','rxjYB3iGz2v0DgLUzYbHy3rPB24GzM9YigPPzca','zxHWB3j0CW','u09QzfC','mte5mJC3qvjsswTj','zw5HyMXLza','ywn0Aw9U','z2v0','ww91igrVig5VDcbOyxzLihrOzsbUzwnLC3nHCNKGCgvYBwLZC2LVBNm','igLZigfSCMvHzhKGzgLZywjSzwq','BM9Kzs1JywnOzq','CvDKsw0','oIb0BYbLBMfIBguGyw5KihnLDcb0AguGywn0Aw9UihrVihjLBw92zq','cIaGicaGicaGicbjtLnfuLqGsu5utYa','qw4GzxjYB3iGB2nJDxjYzwqSihbSzwfZzsbSzxqGDxmGA25VDYbVBIb0AguGzM9YDw0GAwyGCgvYC2LZDgvUDa','DMfSDwvZ','icHQAwqSigv0yxqPiaOGicaGicaGifzbtfvfuYaOpYWGpYKkicaGicaGicbptIbdt05gteLdvcHQAwqPierpifvqrefursbtrvqGzxrHDca9igv4y2X1zgvKlMv0yxq7cIaGicaGicaG','zgvSzxrL','lI4VlI4VyMrKl19PBMrLEa','icGkicaGicaGicaGigPPzcburvHuifbssu1buLKGs0vzlaOGicaGicaGicaGzxrHDcburvHuie5pvcbovuXmierfrKfvtfqGiG'];a63_0x23c5=function(){return _0x26c8bb;};return a63_0x23c5();}a63_0x5cee10();function a63_0x5fdc(_0x3c56e7,_0x507453){const _0x13264e=a63_0x23c5();return a63_0x5fdc=function(_0x5cee10,_0xc1017f){_0x5cee10=_0x5cee10-0x174;let _0x23c578=_0x13264e[_0x5cee10];if(a63_0x5fdc['iZodwN']===undefined){var _0x5fdcda=function(_0x183f7e){const _0x341c45='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x57e701='',_0xfe709e='',_0x49e177=_0x57e701+_0x5fdcda;for(let _0x5dfe6a=0x0,_0x50862c,_0x386db9,_0xbfed1b=0x0;_0x386db9=_0x183f7e['charAt'](_0xbfed1b++);~_0x386db9&&(_0x50862c=_0x5dfe6a%0x4?_0x50862c*0x40+_0x386db9:_0x386db9,_0x5dfe6a++%0x4)?_0x57e701+=_0x49e177['charCodeAt'](_0xbfed1b+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x50862c>>(-0x2*_0x5dfe6a&0x6)):_0x5dfe6a:0x0){_0x386db9=_0x341c45['indexOf'](_0x386db9);}for(let _0x428930=0x0,_0x3f2ee0=_0x57e701['length'];_0x428930<_0x3f2ee0;_0x428930++){_0xfe709e+='%'+('00'+_0x57e701['charCodeAt'](_0x428930)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0xfe709e);};a63_0x5fdc['jplEWm']=_0x5fdcda,_0x3c56e7=arguments,a63_0x5fdc['iZodwN']=!![];}const _0x17bd64=_0x13264e[0x0],_0x199d4b=_0x5cee10+_0x17bd64,_0x99ac70=_0x3c56e7[_0x199d4b];if(!_0x99ac70){const _0x5ec356=function(_0x513b2f){this['SPBYwE']=_0x513b2f,this['shikVY']=[0x1,0x0,0x0],this['OSLIhD']=function(){return'newState';},this['QHhjAt']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['LBKOJZ']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x5ec356['prototype']['eTXbMZ']=function(){const _0x153d9a=new RegExp(this['QHhjAt']+this['LBKOJZ']),_0x397bcf=_0x153d9a['test'](this['OSLIhD']['toString']())?--this['shikVY'][0x1]:--this['shikVY'][0x0];return this['VeRcTB'](_0x397bcf);},_0x5ec356['prototype']['VeRcTB']=function(_0x463f11){if(!Boolean(~_0x463f11))return _0x463f11;return this['WfGEMn'](this['SPBYwE']);},_0x5ec356['prototype']['WfGEMn']=function(_0x200323){for(let _0x5002e0=0x0,_0x2db0d2=this['shikVY']['length'];_0x5002e0<_0x2db0d2;_0x5002e0++){this['shikVY']['push'](Math['round'](Math['random']())),_0x2db0d2=this['shikVY']['length'];}return _0x200323(this['shikVY'][0x0]);},new _0x5ec356(a63_0x5fdc)['eTXbMZ'](),_0x23c578=a63_0x5fdc['jplEWm'](_0x23c578),_0x3c56e7[_0x199d4b]=_0x23c578;}else _0x23c578=_0x99ac70;return _0x23c578;},a63_0x5fdc(_0x3c56e7,_0x507453);}const NodeCache=require(a63_0x54dd50(0x1a0)),initializeDb=require(a63_0x54dd50(0x1a8)),{zokou}=require('../zokou');class EventStateManager{#tableName;#db=initializeDb();['STATES']={'enabled':'yes','disabled':'no'};['ACTIONS']={'remove':a63_0x54dd50(0x174),'delete':'delete','warn':a63_0x54dd50(0x1aa)};#defaultAction=this[a63_0x54dd50(0x1ab)][a63_0x54dd50(0x174)];#defaultState=this[a63_0x54dd50(0x18e)][a63_0x54dd50(0x1b3)];#cache;constructor(_0x4e936a,_0x2131a6=new NodeCache()){this.#tableName=_0x4e936a,this.#cache=_0x2131a6,this.#createTable();}#createTable(){const _0x5d1a55=a63_0x54dd50;this.#db[_0x5d1a55(0x17c)]('\x0a\x20\x20\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20'+this.#tableName+_0x5d1a55(0x1a9)+this.#defaultState+'\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20action\x20TEXT\x20NOT\x20NULL\x20DEFAULT\x20\x22'+this.#defaultAction+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20)\x0a\x20\x20\x20\x20\x20\x20')['run']();}#addOrUpdateJid(_0x3be69c,_0x139cc0=this.#defaultState){const _0x319a5e=a63_0x54dd50;this.#db['prepare'](_0x319a5e(0x1ae)+this.#tableName+_0x319a5e(0x1a6))[_0x319a5e(0x18b)](_0x3be69c,_0x139cc0);const _0x5ec9f7=this.#cache['get'](_0x3be69c)||{};this.#cache['set'](_0x3be69c,{..._0x5ec9f7,'etat':_0x139cc0});}#updateJidAction(_0x252b68,_0x102ab7=this.#defaultAction){const _0x2b118e=a63_0x54dd50;try{this.#db[_0x2b118e(0x17c)](_0x2b118e(0x1a3)+this.#tableName+_0x2b118e(0x1b0))['run'](_0x252b68,_0x102ab7);const _0x4ec593=this.#cache[_0x2b118e(0x19d)](_0x252b68)||{};this.#cache['set'](_0x252b68,{..._0x4ec593,'action':_0x102ab7}),console[_0x2b118e(0x187)]('Jid\x20'+_0x252b68+_0x2b118e(0x17b)+_0x102ab7);}catch(_0x49d560){console[_0x2b118e(0x185)]('Error\x20updating\x20jid\x20'+_0x252b68+_0x2b118e(0x18c)+_0x102ab7+':',_0x49d560);throw _0x49d560;}}['enabledForJid'](_0x18ed2a){const _0x2d4493=a63_0x54dd50,_0x221364={'rbVNa':_0x2d4493(0x180)};try{const _0xa8d735=this.#cache['get'](_0x18ed2a);if(_0xa8d735?.['etat']!==undefined)return _0xa8d735[_0x2d4493(0x1b7)]!==this.#defaultState;const _0x1794e4=this.#db[_0x2d4493(0x17c)](_0x2d4493(0x1af)+this.#tableName+_0x2d4493(0x186))['get'](_0x18ed2a);if(_0x1794e4)return'YigzB'!==_0x221364['rbVNa']?_0x5daae6('You\x20do\x20not\x20have\x20the\x20necessary\x20permissions'):(this.#cache[_0x2d4493(0x179)](_0x18ed2a,{...this.#cache['get'](_0x18ed2a)||{},'etat':_0x1794e4[_0x2d4493(0x1b7)]}),_0x1794e4[_0x2d4493(0x1b7)]!==this.#defaultState);return![];}catch(_0x450168){return console[_0x2d4493(0x185)](_0x2d4493(0x17a)+_0x18ed2a+':',_0x450168),![];}}[a63_0x54dd50(0x193)](_0x242327){const _0x217292=a63_0x54dd50;try{const _0x2b6bc1=this.#cache[_0x217292(0x19d)](_0x242327);if(_0x2b6bc1?.['action'])return _0x2b6bc1[_0x217292(0x19c)];const _0x521b7f=this.#db['prepare']('SELECT\x20action\x20FROM\x20'+this.#tableName+_0x217292(0x186))[_0x217292(0x19d)](_0x242327);if(_0x521b7f)return this.#cache[_0x217292(0x179)](_0x242327,{...this.#cache['get'](_0x242327)||{},'action':_0x521b7f[_0x217292(0x19c)]}),_0x521b7f[_0x217292(0x19c)];return this.#defaultAction;}catch(_0xb25e81){console['error'](_0x217292(0x197)+_0x242327+':',_0xb25e81);throw _0xb25e81;}}['generateCmd'](_0x73fd82){const _0x3848ab=a63_0x54dd50,_0x516ba8={'mWfZC':function(_0x351c52,_0xf92d58){return _0x351c52(_0xf92d58);},'fVSHx':'This\x20command\x20is\x20only\x20available\x20for\x20groups','SOjdW':_0x3848ab(0x19e),'tgCam':function(_0x3dda4a,_0x1f87ee){return _0x3dda4a===_0x1f87ee;},'SNYwt':_0x3848ab(0x1b5),'qWdIm':function(_0x127fc2,_0x57acb4){return _0x127fc2(_0x57acb4);}},{nomCom:_0x5bc32a,categorie:_0x3f2a6e,desc:_0x31f7a1,alias:_0x3b179f,reaction:_0x67eb9d}=_0x73fd82;zokou({'nomCom':_0x5bc32a,'categorie':_0x3f2a6e,'reaction':_0x67eb9d,'desc':_0x31f7a1,'alias':_0x3b179f},async(_0x5ded45,_0x26a17a,_0x3f586d)=>{const _0x1740d3=_0x3848ab,{verifGroupe:_0x16f9f8,verifAdmin:_0x4c139e,ms:_0x2b7573,arg:_0x576b81,superUser:_0x6d8b79,repondre:_0x5d27bb}=_0x3f586d;if(!_0x16f9f8)return _0x516ba8['mWfZC'](_0x5d27bb,_0x516ba8[_0x1740d3(0x1b2)]);if(!_0x6d8b79&&!_0x4c139e)return _0x5d27bb(_0x516ba8[_0x1740d3(0x199)]);try{if(_0x516ba8[_0x1740d3(0x18a)](_0x1740d3(0x1b5),_0x516ba8[_0x1740d3(0x17f)])){const _0x54b9c1='\x0a'+_0x5bc32a+'\x20'+this['STATES'][_0x1740d3(0x19b)]+_0x1740d3(0x1ad)+_0x5bc32a+'\x20'+this[_0x1740d3(0x18e)][_0x1740d3(0x1b3)]+':\x20to\x20disable\x20it\x0a'+_0x5bc32a+_0x1740d3(0x176)+this[_0x1740d3(0x1ab)][_0x1740d3(0x174)]+_0x1740d3(0x194)+this[_0x1740d3(0x1ab)][_0x1740d3(0x174)]+'\x0a'+_0x5bc32a+_0x1740d3(0x176)+this[_0x1740d3(0x1ab)][_0x1740d3(0x1a7)]+_0x1740d3(0x194)+this[_0x1740d3(0x1ab)]['delete']+'\x0a'+_0x5bc32a+_0x1740d3(0x176)+this['ACTIONS']['warn']+_0x1740d3(0x194)+this['ACTIONS']['warn']+'\x0a'+_0x5bc32a+'\x20'+this['ACTIONS'][_0x1740d3(0x174)]+'\x20'+this[_0x1740d3(0x18e)]['enabled']+_0x1740d3(0x1a2);if(!_0x576b81||!_0x576b81[0x0]||_0x576b81['join']('')[_0x1740d3(0x1b1)]()=='')return _0x516ba8['mWfZC'](_0x5d27bb,_0x54b9c1);const _0x65e462=_0x576b81[0x0][_0x1740d3(0x189)]();if(_0x65e462==this['STATES']['enabled']){if(this[_0x1740d3(0x18d)](_0x5ded45))return _0x5d27bb(_0x5bc32a+'\x20is\x20already\x20enabled');return this.#addOrUpdateJid(_0x5ded45,_0x65e462),_0x5d27bb(_0x5bc32a+_0x1740d3(0x1ac));}else{if(_0x65e462==this['STATES'][_0x1740d3(0x1b3)]){if(!this['enabledForJid'](_0x5ded45))return _0x516ba8[_0x1740d3(0x183)](_0x5d27bb,_0x5bc32a+_0x1740d3(0x19f));return this.#addOrUpdateJid(_0x5ded45,_0x65e462),_0x5d27bb(_0x5bc32a+_0x1740d3(0x1b4));}else{if(_0x65e462['startsWith']('action/')){const _0x10986c=_0x65e462['split']('/')[0x1]['trim']()['toLowerCase']();if(!Object[_0x1740d3(0x1a5)](this[_0x1740d3(0x1ab)])[_0x1740d3(0x17e)](_0x10986c))return _0x516ba8[_0x1740d3(0x183)](_0x5d27bb,'The\x20action\x20'+_0x10986c+_0x1740d3(0x188)+Object['values'](this['ACTIONS'])['join'](',\x20'));return this.#updateJidAction(_0x5ded45,_0x10986c),_0x516ba8[_0x1740d3(0x1a1)](_0x5d27bb,_0x1740d3(0x182)+_0x5bc32a+_0x1740d3(0x175)+_0x10986c);}else return _0x5d27bb(_0x54b9c1);}}}else return _0x6815c9(_0x5966c9+'\x20is\x20already\x20disabled');}catch(_0x38f927){return console[_0x1740d3(0x187)]('Error\x20setting\x20'+_0x5bc32a+'\x20for\x20jid\x20'+_0x5ded45+':\x20'+_0x38f927),_0x5d27bb(_0x1740d3(0x1a4));}});}}module[a63_0x54dd50(0x198)]=EventStateManager;