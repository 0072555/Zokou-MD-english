function a63_0x1d23(_0x65b983,_0x14a19b){const _0x332fce=a63_0x31b1();return a63_0x1d23=function(_0x10f1f7,_0x5ce530){_0x10f1f7=_0x10f1f7-0x18f;let _0x31b160=_0x332fce[_0x10f1f7];if(a63_0x1d23['EeLQPd']===undefined){var _0x1d235f=function(_0x388a82){const _0x50cd4c='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x441e26='',_0x3ae37a='',_0x23b6aa=_0x441e26+_0x1d235f;for(let _0x16630e=0x0,_0x3508e0,_0x181469,_0x111773=0x0;_0x181469=_0x388a82['charAt'](_0x111773++);~_0x181469&&(_0x3508e0=_0x16630e%0x4?_0x3508e0*0x40+_0x181469:_0x181469,_0x16630e++%0x4)?_0x441e26+=_0x23b6aa['charCodeAt'](_0x111773+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x3508e0>>(-0x2*_0x16630e&0x6)):_0x16630e:0x0){_0x181469=_0x50cd4c['indexOf'](_0x181469);}for(let _0x52183b=0x0,_0x3982d3=_0x441e26['length'];_0x52183b<_0x3982d3;_0x52183b++){_0x3ae37a+='%'+('00'+_0x441e26['charCodeAt'](_0x52183b)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3ae37a);};a63_0x1d23['Jvhsem']=_0x1d235f,_0x65b983=arguments,a63_0x1d23['EeLQPd']=!![];}const _0x45063f=_0x332fce[0x0],_0x6e84b=_0x10f1f7+_0x45063f,_0xa52632=_0x65b983[_0x6e84b];if(!_0xa52632){const _0x2dcf8f=function(_0x213d61){this['nuNgEW']=_0x213d61,this['jQEeVT']=[0x1,0x0,0x0],this['ToQNuK']=function(){return'newState';},this['obJBTv']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['zVRntn']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x2dcf8f['prototype']['BRuUKo']=function(){const _0x37557a=new RegExp(this['obJBTv']+this['zVRntn']),_0x25cd2e=_0x37557a['test'](this['ToQNuK']['toString']())?--this['jQEeVT'][0x1]:--this['jQEeVT'][0x0];return this['vnFSqR'](_0x25cd2e);},_0x2dcf8f['prototype']['vnFSqR']=function(_0x2eff6a){if(!Boolean(~_0x2eff6a))return _0x2eff6a;return this['LSSGVY'](this['nuNgEW']);},_0x2dcf8f['prototype']['LSSGVY']=function(_0x1d3546){for(let _0x4ad777=0x0,_0x1f862b=this['jQEeVT']['length'];_0x4ad777<_0x1f862b;_0x4ad777++){this['jQEeVT']['push'](Math['round'](Math['random']())),_0x1f862b=this['jQEeVT']['length'];}return _0x1d3546(this['jQEeVT'][0x0]);},new _0x2dcf8f(a63_0x1d23)['BRuUKo'](),_0x31b160=a63_0x1d23['Jvhsem'](_0x31b160),_0x65b983[_0x6e84b]=_0x31b160;}else _0x31b160=_0xa52632;return _0x31b160;},a63_0x1d23(_0x65b983,_0x14a19b);}function a63_0x31b1(){const _0x814421=['Cu5evgK','lI4VEM9RB3u','lI4VlI4VyMrKl19PBMrLEa','ywn0Aw9U','nJq2nZv0B0LyC3m','y29UC3rYDwn0B3i','CNvU','oIb0BYbJAgfUz2uGDgHLigfJDgLVBIb0BYa','AM9PBG','mJqWndy0nhPqwM9hqW','igLZigfSCMvHzhKGzw5HyMXLza','ENnAseC','cIaGicaGicaGsu5trvjuieLove8G','ChjLCgfYzq','ode0mty4oeTuAhDcAq','DMfSDwvZ','zw5HyMXLza','CMvTB3zL','DvjIs1e','Dg9tDhjPBMC','z2vUzxjHDgvdBwq','vMDvrfy','yxrVr1a','C2vHCMnO','r2vzwKi','zxjYB3i','yxbWBhK','igLZig5VDYbLBMfIBgvK','zgvSzxrL','icHQAwqSigfJDgLVBIKkicaGicaGicaGifzbtfvfuYaOpYWGpYKkicaGicaGicaGie9oienptKzmsunukgPPzcKGre8GvvbeqvrfifnfvcbHy3rPB24GpsbLEgnSDwrLzc5Hy3rPB247cIaGicaGicaG','C2v0','oIb0BYbLBMfIBguGAxqk','BM9Kzs1JywnOzq','kcGOlISPkYKRksSK','otjht3LAwLO','otb6uKPYtLC','vxHHsMe','mtaWmeztAMftEq','y1nXu3u','igLZig5VDcb2ywXPzc4GvMfSAwqGywn0Aw9UCYbHCMu6ia','D2fYBG','B2XAtu0','Cunkzgi','oIb0BYbKAxnHyMXLigL0cG','qunusu9ouW','igLZig5VDYa','igLZigfSCMvHzhKGzgLZywjSzwq','cIaGicaGicaGq1jfqvrfifrbqKXfieLgie5pvcbfweLtvfmG','ihDPDgGGywn0Aw9Uia','yuLRrvK','vgHLigfJDgLVBIbMB3iG','ihvWzgf0zwqGD2L0AcbHy3rPB24G','zxrHDa','Bur6rwm','uvDWqxy','Bg9N','CLDADKm','iGOGicaGicaGicKkicaGicaG','ndiZmZaWndzdrervqLa','vgHLigfJDgLVBIa','zgrXsge','zKr4Bgi','DhjPBq','rxjYB3iGz2v0DgLUzYbHy3rPB24GzM9YigPPzca','mZqYnZG0nu15s1zWyq','ntm5odCZBLvsuwLv','zgzPq2q','nhDHrLLOvG','zw5HyMXLzezVCKPPza','z2v0','zNn6CgC','BNjUtxC','rxjYB3iGC2v0DgLUzYa','zgLZywjSzwq','n1HNEKLprG','qw4GzxjYB3iGB2nJDxjYzwqSihbSzwfZzsbSzxqGDxmGA25VDYbVBIb0AguGzM9YDw0GAwyGCgvYC2LZDgvUDa','ifDirvjfigPPzca9id87','C3rHCNrZv2L0Aa','vgHPCYbJB21Tyw5KigLZig9UBhKGyxzHAwXHyMXLigzVCIbNCM91Chm','CvvRreG','BgHnv0e','u1rbvevt'];a63_0x31b1=function(){return _0x814421;};return a63_0x31b1();}const a63_0x1580a2=a63_0x1d23;(function(_0x44039d,_0x34dbb0){const _0x1f11cf=a63_0x1d23,_0x68e59b=_0x44039d();while(!![]){try{const _0x209efe=-parseInt(_0x1f11cf(0x1cb))/0x1*(parseInt(_0x1f11cf(0x1cd))/0x2)+-parseInt(_0x1f11cf(0x1ca))/0x3+parseInt(_0x1f11cf(0x1ac))/0x4*(-parseInt(_0x1f11cf(0x1e0))/0x5)+parseInt(_0x1f11cf(0x193))/0x6+-parseInt(_0x1f11cf(0x1d4))/0x7*(parseInt(_0x1f11cf(0x198))/0x8)+parseInt(_0x1f11cf(0x1ad))/0x9*(parseInt(_0x1f11cf(0x1af))/0xa)+parseInt(_0x1f11cf(0x1c4))/0xb;if(_0x209efe===_0x34dbb0)break;else _0x68e59b['push'](_0x68e59b['shift']());}catch(_0x22f470){_0x68e59b['push'](_0x68e59b['shift']());}}}(a63_0x31b1,0xadebf));const a63_0x5ce530=(function(){let _0x16455f=!![];return function(_0x11057d,_0x220c8e){const _0x225cc0=_0x16455f?function(){const _0x1a799c=a63_0x1d23;if(_0x220c8e){const _0x4f5bf6=_0x220c8e[_0x1a799c(0x1a4)](_0x11057d,arguments);return _0x220c8e=null,_0x4f5bf6;}}:function(){};return _0x16455f=![],_0x225cc0;};}()),a63_0x10f1f7=a63_0x5ce530(this,function(){const _0x3d46e1=a63_0x1d23,_0x363375={'rWZvC':_0x3d46e1(0x1ab)};return a63_0x10f1f7['toString']()[_0x3d46e1(0x1a1)](_0x363375[_0x3d46e1(0x1c2)])['toString']()['constructor'](a63_0x10f1f7)[_0x3d46e1(0x1a1)](_0x3d46e1(0x1ab));});a63_0x10f1f7();const NodeCache=require(a63_0x1580a2(0x1aa)),initializeDb=require(a63_0x1580a2(0x1de)),{zokou}=require(a63_0x1580a2(0x1dd));class EventStateManager{#tableName;#db=initializeDb();['STATES']={'enabled':'yes','disabled':'no'};['ACTIONS']={'remove':a63_0x1580a2(0x19b),'delete':'delete','warn':'warn'};#defaultAction=this[a63_0x1580a2(0x1b6)][a63_0x1580a2(0x19b)];#defaultState=this[a63_0x1580a2(0x1db)][a63_0x1580a2(0x1d3)];#cache;constructor(_0x533ba2,_0x1cdef3=new NodeCache()){this.#tableName=_0x533ba2,this.#cache=_0x1cdef3,this.#createTable();}#createTable(){const _0x3149c0=a63_0x1580a2;this.#db[_0x3149c0(0x197)](_0x3149c0(0x1b9)+this.#tableName+'\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20jid\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20etat\x20TEXT\x20NOT\x20NULL\x20DEFAULT\x20\x22'+this.#defaultState+'\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20action\x20TEXT\x20NOT\x20NULL\x20DEFAULT\x20\x22'+this.#defaultAction+_0x3149c0(0x1c3))['run']();}#addOrUpdateJid(_0x1c6b34,_0x3ed38b=this.#defaultState){const _0x81146e=a63_0x1580a2;this.#db[_0x81146e(0x197)](_0x81146e(0x196)+this.#tableName+'\x20(jid,\x20etat)\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ON\x20CONFLICT(jid)\x20DO\x20UPDATE\x20SET\x20etat\x20=\x20excluded.etat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['run'](_0x1c6b34,_0x3ed38b);const _0x20914e=this.#cache['get'](_0x1c6b34)||{};this.#cache['set'](_0x1c6b34,{..._0x20914e,'etat':_0x3ed38b});}#updateJidAction(_0x2f3419,_0x23acd8=this.#defaultAction){const _0x40af33=a63_0x1580a2,_0x25ca9e={'aIkEY':function(_0x44ba09,_0x12c16a){return _0x44ba09(_0x12c16a);}};try{this.#db[_0x40af33(0x197)]('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20'+this.#tableName+_0x40af33(0x1a7))[_0x40af33(0x190)](_0x2f3419,_0x23acd8);const _0x4c1fc2=this.#cache[_0x40af33(0x1cf)](_0x2f3419)||{};this.#cache[_0x40af33(0x1a8)](_0x2f3419,{..._0x4c1fc2,'action':_0x23acd8}),console[_0x40af33(0x1c1)]('Jid\x20'+_0x2f3419+_0x40af33(0x1bd)+_0x23acd8);}catch(_0x2f65ef){if(_0x40af33(0x1b0)===_0x40af33(0x1d1))return _0x25ca9e[_0x40af33(0x1bb)](_0x16e837,_0x5489eb+'\x20is\x20already\x20enabled');else{console[_0x40af33(0x1a3)]('Error\x20updating\x20jid\x20'+_0x2f3419+_0x40af33(0x1ba)+_0x23acd8+':',_0x2f65ef);throw _0x2f65ef;}}}['enabledForJid'](_0x5eec55){const _0x2e1694=a63_0x1580a2,_0x559fde={'NYcNa':function(_0x5ab4cb,_0x3db860){return _0x5ab4cb!==_0x3db860;}};try{const _0x123dcc=this.#cache[_0x2e1694(0x1cf)](_0x5eec55);if(_0x123dcc?.['etat']!==undefined)return _0x123dcc['etat']!==this.#defaultState;const _0x39cb68=this.#db['prepare']('SELECT\x20etat\x20FROM\x20'+this.#tableName+_0x2e1694(0x1d6))[_0x2e1694(0x1cf)](_0x5eec55);if(_0x39cb68)return this.#cache['set'](_0x5eec55,{...this.#cache['get'](_0x5eec55)||{},'etat':_0x39cb68[_0x2e1694(0x1be)]}),_0x559fde['NYcNa'](_0x39cb68[_0x2e1694(0x1be)],this.#defaultState);return![];}catch(_0x307a0d){return console['error']('Error\x20checking\x20enabled\x20state\x20for\x20jid\x20'+_0x5eec55+':',_0x307a0d),![];}}['getActionForJid'](_0x3cb912){const _0x1ce4b4=a63_0x1580a2,_0x5fa547={'uRbKQ':function(_0x5ec44d,_0x327923){return _0x5ec44d(_0x327923);},'GeYZB':function(_0x4b62a1,_0xc51174){return _0x4b62a1!==_0xc51174;},'qNDTi':'dXVHN','LnBJf':function(_0x607496,_0x1e4f45){return _0x607496===_0x1e4f45;},'dfiCd':_0x1ce4b4(0x1c0),'mDzEc':'QbMym'};try{const _0x4129b1=this.#cache['get'](_0x3cb912);if(_0x4129b1?.['action'])return _0x4129b1[_0x1ce4b4(0x1df)];const _0x3e6987=this.#db[_0x1ce4b4(0x197)]('SELECT\x20action\x20FROM\x20'+this.#tableName+_0x1ce4b4(0x1d6))['get'](_0x3cb912);if(_0x3e6987)return _0x5fa547[_0x1ce4b4(0x1a2)](_0x5fa547[_0x1ce4b4(0x1dc)],_0x1ce4b4(0x1b3))?(this.#cache['set'](_0x3cb912,{...this.#cache[_0x1ce4b4(0x1cf)](_0x3cb912)||{},'action':_0x3e6987[_0x1ce4b4(0x1df)]}),_0x3e6987[_0x1ce4b4(0x1df)]):_0x29feeb(_0x1ce4b4(0x1d8));return this.#defaultAction;}catch(_0x17b51c){if(_0x5fa547['LnBJf'](_0x5fa547[_0x1ce4b4(0x1cc)],_0x5fa547[_0x1ce4b4(0x1bf)]))return _0x5fa547[_0x1ce4b4(0x19c)](_0x11a2a4,_0x49a28e+_0x1ce4b4(0x1b8));else{console[_0x1ce4b4(0x1a3)](_0x1ce4b4(0x1c9)+_0x3cb912+':',_0x17b51c);throw _0x17b51c;}}}[a63_0x1580a2(0x19e)](_0x103631){const _0x41e264=a63_0x1580a2,_0x160473={'jbujJ':function(_0x430f34,_0x25ec15){return _0x430f34===_0x25ec15;},'ddqHa':_0x41e264(0x1d9),'lhMWA':function(_0x2913b7,_0x4d9d3a){return _0x2913b7(_0x4d9d3a);},'tWtaf':function(_0x12cf5d,_0x1ea4e3){return _0x12cf5d!==_0x1ea4e3;},'VgUDV':function(_0x49f54f,_0x4da54f){return _0x49f54f===_0x4da54f;},'fDxlb':function(_0x3508f7,_0xd273d8){return _0x3508f7(_0xd273d8);},'TGvjo':function(_0x5bc471,_0x2f3f1f){return _0x5bc471!==_0x2f3f1f;},'qCJdb':'zsZHG'},{nomCom:_0x2a0c2f,categorie:_0x3c4005,desc:_0x1bcad2,alias:_0x36c9dd,reaction:_0x41f27b}=_0x103631;zokou({'nomCom':_0x2a0c2f,'categorie':_0x3c4005,'reaction':_0x41f27b,'desc':_0x1bcad2,'alias':_0x36c9dd},async(_0x100d61,_0x23b6f3,_0x5180fb)=>{const _0x160d5c=_0x41e264;if(_0x160473['jbujJ'](_0x160473[_0x160d5c(0x1c6)],_0x160d5c(0x1d0)))return _0x4411b1[_0x160d5c(0x19d)]()['search']('(((.+)+)+)+$')[_0x160d5c(0x19d)]()[_0x160d5c(0x18f)](_0x1bf1f6)['search'](_0x160d5c(0x1ab));else{const {verifGroupe:_0x216957,verifAdmin:_0xd3afba,ms:_0x2f26f4,arg:_0x3192b0,superUser:_0x42870a,repondre:_0x4c5ce5}=_0x5180fb;if(!_0x216957)return _0x160473[_0x160d5c(0x1da)](_0x4c5ce5,_0x160d5c(0x1d8));if(!_0x42870a&&!_0xd3afba){if(_0x160473['tWtaf']('atoGP',_0x160d5c(0x1a0))){_0x357760[_0x160d5c(0x1a3)](_0x160d5c(0x1c9)+_0x3e8b05+':',_0x4772dc);throw _0x55ab5c;}else return _0x4c5ce5('You\x20do\x20not\x20have\x20the\x20necessary\x20permissions');}try{const _0xd2a374='\x0a'+_0x2a0c2f+'\x20'+this['STATES'][_0x160d5c(0x19a)]+_0x160d5c(0x1a9)+_0x2a0c2f+'\x20'+this['STATES'][_0x160d5c(0x1d3)]+_0x160d5c(0x1b5)+_0x2a0c2f+'\x20action/'+this[_0x160d5c(0x1b6)]['remove']+_0x160d5c(0x191)+this['ACTIONS']['remove']+'\x0a'+_0x2a0c2f+'\x20action/'+this[_0x160d5c(0x1b6)]['delete']+_0x160d5c(0x191)+this['ACTIONS'][_0x160d5c(0x1a6)]+'\x0a'+_0x2a0c2f+'\x20action/'+this[_0x160d5c(0x1b6)]['warn']+_0x160d5c(0x191)+this[_0x160d5c(0x1b6)][_0x160d5c(0x1b2)]+'\x0a'+_0x2a0c2f+'\x20'+this[_0x160d5c(0x1b6)][_0x160d5c(0x19b)]+'\x20'+this[_0x160d5c(0x1db)]['enabled']+':\x20to\x20enable\x20and\x20set\x20the\x20action\x20to\x20remove';if(!_0x3192b0||!_0x3192b0[0x0]||_0x3192b0['join']('')[_0x160d5c(0x1c8)]()=='')return _0x4c5ce5(_0xd2a374);const _0x39a89f=_0x3192b0[0x0]['toLowerCase']();if(_0x39a89f==this[_0x160d5c(0x1db)]['enabled']){if(_0x160473[_0x160d5c(0x19f)](_0x160d5c(0x1ae),'UxaJa')){if(this[_0x160d5c(0x1ce)](_0x100d61))return _0x4c5ce5(_0x2a0c2f+_0x160d5c(0x194));return this.#addOrUpdateJid(_0x100d61,_0x39a89f),_0x160473[_0x160d5c(0x1c7)](_0x4c5ce5,_0x2a0c2f+_0x160d5c(0x1a5));}else{const _0x45a903=_0x52183b?function(){const _0x4ba0fc=_0x160d5c;if(_0x2eff6a){const _0x2bbb99=_0x12d2c4[_0x4ba0fc(0x1a4)](_0x13739d,arguments);return _0x59bcc5=null,_0x2bbb99;}}:function(){};return _0x25cd2e=![],_0x45a903;}}else{if(_0x39a89f==this[_0x160d5c(0x1db)][_0x160d5c(0x1d3)]){if(_0x160473['TGvjo'](_0x160d5c(0x195),_0x160473[_0x160d5c(0x1b4)]))return _0x567998[_0x160d5c(0x1c1)](_0x160d5c(0x1d2)+_0xacea19+'\x20for\x20jid\x20'+_0xdbfba4+':\x20'+_0x43e26a),_0x446e32('An\x20error\x20occurred,\x20please\x20let\x20us\x20know\x20on\x20the\x20forum\x20if\x20persistent');else{if(!this['enabledForJid'](_0x100d61))return _0x160473[_0x160d5c(0x1c7)](_0x4c5ce5,_0x2a0c2f+_0x160d5c(0x1b8));return this.#addOrUpdateJid(_0x100d61,_0x39a89f),_0x4c5ce5(_0x2a0c2f+'\x20is\x20now\x20disabled');}}else{if(_0x39a89f[_0x160d5c(0x1d7)]('action/')){const _0x529c3b=_0x39a89f['split']('/')[0x1]['trim']()['toLowerCase']();if(!Object[_0x160d5c(0x199)](this[_0x160d5c(0x1b6)])['includes'](_0x529c3b))return _0x4c5ce5(_0x160d5c(0x1c5)+_0x529c3b+_0x160d5c(0x1b1)+Object[_0x160d5c(0x199)](this['ACTIONS'])[_0x160d5c(0x192)](',\x20'));return this.#updateJidAction(_0x100d61,_0x529c3b),_0x4c5ce5(_0x160d5c(0x1bc)+_0x2a0c2f+_0x160d5c(0x1b7)+_0x529c3b);}else return _0x4c5ce5(_0xd2a374);}}}catch(_0xb795e1){return console[_0x160d5c(0x1c1)](_0x160d5c(0x1d2)+_0x2a0c2f+'\x20for\x20jid\x20'+_0x100d61+':\x20'+_0xb795e1),_0x4c5ce5(_0x160d5c(0x1d5));}}});}}module['exports']=EventStateManager;