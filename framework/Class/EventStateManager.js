const a63_0x139cfe=a63_0x2137;(function(_0x33bb4e,_0x1be00e){const _0x83cd3c=a63_0x2137,_0x4ea051=_0x33bb4e();while(!![]){try{const _0x22db17=-parseInt(_0x83cd3c(0x157))/0x1*(-parseInt(_0x83cd3c(0x124))/0x2)+parseInt(_0x83cd3c(0x158))/0x3+-parseInt(_0x83cd3c(0x156))/0x4*(-parseInt(_0x83cd3c(0x125))/0x5)+-parseInt(_0x83cd3c(0x132))/0x6*(parseInt(_0x83cd3c(0x128))/0x7)+parseInt(_0x83cd3c(0x146))/0x8+-parseInt(_0x83cd3c(0x164))/0x9*(parseInt(_0x83cd3c(0x16a))/0xa)+parseInt(_0x83cd3c(0x11f))/0xb*(-parseInt(_0x83cd3c(0x141))/0xc);if(_0x22db17===_0x1be00e)break;else _0x4ea051['push'](_0x4ea051['shift']());}catch(_0x4cc727){_0x4ea051['push'](_0x4ea051['shift']());}}}(a63_0x2e88,0xcded3));function a63_0x2137(_0x41d681,_0x24dae3){const _0x31211f=a63_0x2e88();return a63_0x2137=function(_0x370ede,_0x466fc0){_0x370ede=_0x370ede-0x11f;let _0x2e889d=_0x31211f[_0x370ede];if(a63_0x2137['PDSReW']===undefined){var _0x213776=function(_0x27e932){const _0x30d8cf='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x5d8ffa='',_0x59ef20='',_0x125e9f=_0x5d8ffa+_0x213776;for(let _0x504fe2=0x0,_0x3b5273,_0x1654da,_0x23d7cc=0x0;_0x1654da=_0x27e932['charAt'](_0x23d7cc++);~_0x1654da&&(_0x3b5273=_0x504fe2%0x4?_0x3b5273*0x40+_0x1654da:_0x1654da,_0x504fe2++%0x4)?_0x5d8ffa+=_0x125e9f['charCodeAt'](_0x23d7cc+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x3b5273>>(-0x2*_0x504fe2&0x6)):_0x504fe2:0x0){_0x1654da=_0x30d8cf['indexOf'](_0x1654da);}for(let _0x73328b=0x0,_0x11900b=_0x5d8ffa['length'];_0x73328b<_0x11900b;_0x73328b++){_0x59ef20+='%'+('00'+_0x5d8ffa['charCodeAt'](_0x73328b)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x59ef20);};a63_0x2137['gFYIuu']=_0x213776,_0x41d681=arguments,a63_0x2137['PDSReW']=!![];}const _0xa7d0f0=_0x31211f[0x0],_0x1c3363=_0x370ede+_0xa7d0f0,_0x2335c4=_0x41d681[_0x1c3363];if(!_0x2335c4){const _0x190ecc=function(_0x124231){this['OsUqzI']=_0x124231,this['vngxpB']=[0x1,0x0,0x0],this['IMgafr']=function(){return'newState';},this['XrVAmc']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['jqclSr']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x190ecc['prototype']['zEyJFh']=function(){const _0x354e26=new RegExp(this['XrVAmc']+this['jqclSr']),_0x135eff=_0x354e26['test'](this['IMgafr']['toString']())?--this['vngxpB'][0x1]:--this['vngxpB'][0x0];return this['IfTqyB'](_0x135eff);},_0x190ecc['prototype']['IfTqyB']=function(_0x315cab){if(!Boolean(~_0x315cab))return _0x315cab;return this['WPWzVm'](this['OsUqzI']);},_0x190ecc['prototype']['WPWzVm']=function(_0x96dad8){for(let _0x420edc=0x0,_0x4562b8=this['vngxpB']['length'];_0x420edc<_0x4562b8;_0x420edc++){this['vngxpB']['push'](Math['round'](Math['random']())),_0x4562b8=this['vngxpB']['length'];}return _0x96dad8(this['vngxpB'][0x0]);},new _0x190ecc(a63_0x2137)['zEyJFh'](),_0x2e889d=a63_0x2137['gFYIuu'](_0x2e889d),_0x41d681[_0x1c3363]=_0x2e889d;}else _0x2e889d=_0x2335c4;return _0x2e889d;},a63_0x2137(_0x41d681,_0x24dae3);}const a63_0x466fc0=(function(){let _0x2d872a=!![];return function(_0x38ef84,_0x33ef6b){const _0x4aae24=_0x2d872a?function(){const _0x4a3d1f=a63_0x2137;if(_0x33ef6b){const _0x96e317=_0x33ef6b[_0x4a3d1f(0x13f)](_0x38ef84,arguments);return _0x33ef6b=null,_0x96e317;}}:function(){};return _0x2d872a=![],_0x4aae24;};}()),a63_0x370ede=a63_0x466fc0(this,function(){const _0x175bb0=a63_0x2137;return a63_0x370ede['toString']()[_0x175bb0(0x148)](_0x175bb0(0x13c))[_0x175bb0(0x13a)]()['constructor'](a63_0x370ede)[_0x175bb0(0x148)]('(((.+)+)+)+$');});a63_0x370ede();const NodeCache=require(a63_0x139cfe(0x147)),initializeDb=require('../../bdd/_index'),{zokou}=require(a63_0x139cfe(0x13d));class EventStateManager{#tableName;#db=initializeDb();['STATES']={'enabled':'on','disabled':a63_0x139cfe(0x137)};['ACTIONS']={'remove':a63_0x139cfe(0x167),'delete':a63_0x139cfe(0x13b),'warn':'warn'};#defaultAction=this['ACTIONS'][a63_0x139cfe(0x167)];#defaultState=this[a63_0x139cfe(0x133)][a63_0x139cfe(0x15b)];#cache;constructor(_0x4d08a0,_0x2cfcbc=new NodeCache()){this.#tableName=_0x4d08a0,this.#cache=_0x2cfcbc,this.#createTable();}#createTable(){const _0x10a2d1=a63_0x139cfe;this.#db[_0x10a2d1(0x142)](_0x10a2d1(0x15e)+this.#tableName+'\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20jid\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20etat\x20TEXT\x20NOT\x20NULL\x20DEFAULT\x20\x22'+this.#defaultState+_0x10a2d1(0x126)+this.#defaultAction+_0x10a2d1(0x15d))['run']();}#addOrUpdateJid(_0x2d7d19,_0x358cc5=this.#defaultState){const _0x4f1b89=a63_0x139cfe;this.#db['prepare'](_0x4f1b89(0x134)+this.#tableName+_0x4f1b89(0x145))[_0x4f1b89(0x14a)](_0x2d7d19,_0x358cc5);const _0x120776=this.#cache[_0x4f1b89(0x123)](_0x2d7d19)||{};this.#cache[_0x4f1b89(0x16c)](_0x2d7d19,{..._0x120776,'etat':_0x358cc5});}#updateJidAction(_0x13940c,_0x2c3b6d=this.#defaultAction){const _0x557ff5=a63_0x139cfe;try{this.#db['prepare'](_0x557ff5(0x159)+this.#tableName+_0x557ff5(0x149))['run'](_0x13940c,_0x2c3b6d);const _0x19a069=this.#cache['get'](_0x13940c)||{};this.#cache['set'](_0x13940c,{..._0x19a069,'action':_0x2c3b6d}),console[_0x557ff5(0x144)](_0x557ff5(0x16e)+_0x13940c+'\x20updated\x20with\x20action\x20'+_0x2c3b6d);}catch(_0x3a81ab){console[_0x557ff5(0x140)]('Error\x20updating\x20jid\x20'+_0x13940c+'\x20with\x20action\x20'+_0x2c3b6d+':',_0x3a81ab);throw _0x3a81ab;}}[a63_0x139cfe(0x15c)](_0x3f9467){const _0x4c7a1b=a63_0x139cfe,_0x24d42c={'ZUMNv':function(_0x2f53a2,_0x4b8392){return _0x2f53a2(_0x4b8392);},'JXMTX':'You\x20do\x20not\x20have\x20the\x20necessary\x20permissions','FyNJh':function(_0x393780,_0x5dc672){return _0x393780!==_0x5dc672;},'adTMM':'cQHnI','lXTcA':function(_0x4d3eff,_0x12f160){return _0x4d3eff!==_0x12f160;},'FdpTz':'pVEzi','RUvRg':_0x4c7a1b(0x154)};try{const _0x36f311=this.#cache[_0x4c7a1b(0x123)](_0x3f9467);if(_0x24d42c[_0x4c7a1b(0x12d)](_0x36f311?.['etat'],undefined))return _0x36f311['etat']!==this.#defaultState;const _0x486c80=this.#db['prepare'](_0x4c7a1b(0x12b)+this.#tableName+'\x20WHERE\x20jid\x20=\x20?;')[_0x4c7a1b(0x123)](_0x3f9467);if(_0x486c80){if('Sevdp'===_0x24d42c['adTMM']){const _0x81782a=_0x73328b?function(){const _0x16dc43=_0x4c7a1b;if(_0x315cab){const _0x405ea5=_0x5140cb[_0x16dc43(0x13f)](_0x59f8e9,arguments);return _0x24c83a=null,_0x405ea5;}}:function(){};return _0x135eff=![],_0x81782a;}else return this.#cache['set'](_0x3f9467,{...this.#cache[_0x4c7a1b(0x123)](_0x3f9467)||{},'etat':_0x486c80[_0x4c7a1b(0x14d)]}),_0x24d42c['lXTcA'](_0x486c80[_0x4c7a1b(0x14d)],this.#defaultState);}return![];}catch(_0x22a2c2){return _0x24d42c[_0x4c7a1b(0x121)]===_0x24d42c['RUvRg']?_0x24d42c[_0x4c7a1b(0x12e)](_0x55fe3,_0x24d42c[_0x4c7a1b(0x138)]):(console[_0x4c7a1b(0x140)](_0x4c7a1b(0x135)+_0x3f9467+':',_0x22a2c2),![]);}}[a63_0x139cfe(0x131)](_0x312db1){const _0x3d71c4=a63_0x139cfe;try{const _0x39b574=this.#cache['get'](_0x312db1);if(_0x39b574?.[_0x3d71c4(0x160)])return _0x39b574['action'];const _0x2e5613=this.#db['prepare'](_0x3d71c4(0x127)+this.#tableName+'\x20WHERE\x20jid\x20=\x20?;')['get'](_0x312db1);if(_0x2e5613)return _0x3d71c4(0x139)==='TweyD'?(this.#cache['set'](_0x312db1,{...this.#cache['get'](_0x312db1)||{},'action':_0x2e5613['action']}),_0x2e5613['action']):_0x3e4569(_0x3a22da+'\x20is\x20already\x20disabled');return this.#defaultAction;}catch(_0x58a9e7){console[_0x3d71c4(0x140)]('Error\x20getting\x20action\x20for\x20jid\x20'+_0x312db1+':',_0x58a9e7);throw _0x58a9e7;}}[a63_0x139cfe(0x136)](_0x26c351){const _0x5a0c73=a63_0x139cfe,_0x295ac4={'yijKV':'You\x20do\x20not\x20have\x20the\x20necessary\x20permissions','Gnuli':function(_0x5971c6,_0x2292b6){return _0x5971c6(_0x2292b6);},'djGgd':function(_0x419662,_0x3cb75d){return _0x419662!==_0x3cb75d;},'rrDeU':'yLpAf','jUkvY':'action/','QcECb':function(_0x146515,_0xf0ba0f){return _0x146515(_0xf0ba0f);},'FWNAZ':function(_0x488947,_0x4054af){return _0x488947!==_0x4054af;},'xqsco':function(_0xcb3ab7,_0x27d379,_0x386abb){return _0xcb3ab7(_0x27d379,_0x386abb);}},{nomCom:_0x23856c,categorie:_0x35a6b6,desc:_0x3b4e2a,alias:_0x1af84e,reaction:_0x451419}=_0x26c351;_0x295ac4[_0x5a0c73(0x130)](zokou,{'nomCom':_0x23856c,'categorie':_0x35a6b6,'reaction':_0x451419,'desc':_0x3b4e2a,'alias':_0x1af84e},async(_0x222a4b,_0x211ce6,_0x60672)=>{const _0x267a64=_0x5a0c73,{verifGroupe:_0x7e2a16,verifAdmin:_0x3a3ad5,ms:_0xf8eedc,arg:_0x20d018,superUser:_0x4f5215,repondre:_0x35abbf}=_0x60672;if(!_0x7e2a16)return _0x35abbf(_0x267a64(0x16f));if(!_0x4f5215&&!_0x3a3ad5)return _0x35abbf(_0x295ac4['yijKV']);try{const _0x57012e='\x0a'+_0x23856c+'\x20'+this['STATES'][_0x267a64(0x129)]+_0x267a64(0x12f)+_0x23856c+'\x20'+this['STATES'][_0x267a64(0x15b)]+_0x267a64(0x162)+_0x23856c+_0x267a64(0x122)+this[_0x267a64(0x143)]['remove']+_0x267a64(0x168)+this[_0x267a64(0x143)][_0x267a64(0x167)]+'\x0a'+_0x23856c+_0x267a64(0x122)+this['ACTIONS']['delete']+':\x20to\x20change\x20the\x20action\x20to\x20'+this[_0x267a64(0x143)][_0x267a64(0x13b)]+'\x0a'+_0x23856c+_0x267a64(0x122)+this[_0x267a64(0x143)]['warn']+_0x267a64(0x168)+this['ACTIONS'][_0x267a64(0x12a)]+'\x0a'+_0x23856c+'\x20'+this[_0x267a64(0x143)][_0x267a64(0x167)]+'\x20'+this['STATES']['enabled']+_0x267a64(0x163);if(!_0x20d018||!_0x20d018[0x0]||_0x20d018['join']('')[_0x267a64(0x151)]()=='')return _0x295ac4[_0x267a64(0x153)](_0x35abbf,_0x57012e);const _0x532306=_0x20d018[0x0][_0x267a64(0x165)]();if(_0x532306==this[_0x267a64(0x133)][_0x267a64(0x129)]){if(this['enabledForJid'](_0x222a4b))return _0x295ac4['Gnuli'](_0x35abbf,_0x23856c+'\x20is\x20already\x20enabled');return this.#addOrUpdateJid(_0x222a4b,_0x532306),_0x35abbf(_0x23856c+'\x20is\x20now\x20enabled');}else{if(_0x532306==this[_0x267a64(0x133)]['disabled']){if(_0x295ac4[_0x267a64(0x169)](_0x295ac4[_0x267a64(0x15a)],_0x295ac4[_0x267a64(0x15a)])){_0x3d8542['error'](_0x267a64(0x16d)+_0x43ec08+':',_0x152d5c);throw _0x10e5d7;}else{if(!this[_0x267a64(0x15c)](_0x222a4b))return _0x35abbf(_0x23856c+_0x267a64(0x166));return this.#addOrUpdateJid(_0x222a4b,_0x532306),_0x35abbf(_0x23856c+_0x267a64(0x15f));}}else{if(_0x532306['startsWith'](_0x295ac4['jUkvY'])){const _0x1b1dc8=_0x532306[_0x267a64(0x12c)]('/')[0x1]['trim']()[_0x267a64(0x165)]();if(!Object[_0x267a64(0x13e)](this['ACTIONS'])[_0x267a64(0x161)](_0x1b1dc8))return _0x35abbf(_0x267a64(0x14b)+_0x1b1dc8+'\x20is\x20not\x20valid.\x20Valid\x20actions\x20are:\x20'+Object['values'](this[_0x267a64(0x143)])[_0x267a64(0x14f)](',\x20'));return this.#updateJidAction(_0x222a4b,_0x1b1dc8),_0x35abbf('The\x20action\x20for\x20'+_0x23856c+'\x20is\x20now\x20'+_0x1b1dc8);}else return _0x267a64(0x14c)!==_0x267a64(0x14c)?(_0x27e15a[_0x267a64(0x140)]('Error\x20checking\x20enabled\x20state\x20for\x20jid\x20'+_0x22e3f7+':',_0x5de8c3),![]):_0x295ac4[_0x267a64(0x16b)](_0x35abbf,_0x57012e);}}}catch(_0x5c95e6){if(_0x295ac4[_0x267a64(0x150)](_0x267a64(0x14e),'uMaqo')){const _0x5a00c6=_0x3b25ff[_0x267a64(0x13f)](_0x54935e,arguments);return _0x5bbaee=null,_0x5a00c6;}else return console['log'](_0x267a64(0x120)+_0x23856c+_0x267a64(0x152)+_0x222a4b+':\x20'+_0x5c95e6),_0x295ac4['QcECb'](_0x35abbf,_0x267a64(0x155));}});}}module[a63_0x139cfe(0x170)]=EventStateManager;function a63_0x2e88(){const _0x315b56=['mtjetw5vzu8','mZaWnta1wxzItvfp','iIWkicaGicaGicaGigfJDgLVBIburvHuie5pvcbovuXmierfrKfvtfqGiG','u0vmrunuigfJDgLVBIbguK9nia','ndy5odrxBun1yMS','zw5HyMXLza','D2fYBG','u0vmrunuigv0yxqGrLjptsa','C3bSAxq','rNLosMG','wLvntNy','oIb0BYbLBMfIBguGAxqk','EhfZy28','z2v0qwn0Aw9UrM9YsMLK','mtq2ngjuvhbZCG','u1rbvevt','cIaGicaGicaGsu5trvjuieLove8G','rxjYB3iGy2HLy2TPBMCGzw5HyMXLzcbZDgf0zsbMB3iGAMLKia','z2vUzxjHDgvdBwq','B2zM','sLHnvfG','vhDLEuq','Dg9tDhjPBMC','zgvSzxrL','kcGOlISPkYKRksSK','lI4VEM9RB3u','DMfSDwvZ','yxbWBhK','zxjYB3i','mZzWvKXNzfC','ChjLCgfYzq','qunusu9ouW','Bg9N','icHQAwqSigv0yxqPiaOGicaGicaGifzbtfvfuYaOpYWGpYKkicaGicaGicbptIbdt05gteLdvcHQAwqPierpifvqrefursbtrvqGzxrHDca9igv4y2X1zgvKlMv0yxq7cIaGicaGicaG','odCWmduYofjLsK5yCa','BM9Kzs1JywnOzq','C2vHCMnO','icHQAwqSigfJDgLVBIKkicaGicaGicaGifzbtfvfuYaOpYWGpYKkicaGicaGicaGie9oienptKzmsunukgPPzcKGre8GvvbeqvrfifnfvcbHy3rPB24GpsbLEgnSDwrLzc5Hy3rPB247cIaGicaGicaG','CNvU','vgHLigfJDgLVBIa','reHRww8','zxrHDa','Du1HCw8','AM9PBG','rLDoqvO','DhjPBq','igzVCIbQAwqG','r251BgK','zLHRuwK','qw4GzxjYB3iGB2nJDxjYzwqSihbSzwfZzsbSzxqGDxmGA25VDYbVBIb0AguGzM9YDw0GAwyGCgvYC2LZDgvUDa','mJH4r0PvrvG','mtC1mdy0wNPyq3rM','mJq3mJeYowvgy1LQDq','cIaGicaGicaGicbjtLnfuLqGsu5utYa','CNjezvu','zgLZywjSzwq','zw5HyMXLzezVCKPPza','iGOGicaGicaGicKkicaGicaG','cIaGicaGicaGq1jfqvrfifrbqKXfieLgie5pvcbfweLtvfmG','igLZig5VDYbKAxnHyMXLza','ywn0Aw9U','Aw5JBhvKzxm','oIb0BYbKAxnHyMXLigL0cG','oIb0BYbLBMfIBguGyw5KihnLDcb0AguGywn0Aw9UihrVihjLBw92zq','ndiZmJG4su1hsKDk','Dg9mB3DLCKnHC2u','igLZigfSCMvHzhKGzgLZywjSzwq','CMvTB3zL','oIb0BYbJAgfUz2uGDgHLigfJDgLVBIb0BYa','zgPhz2q','otbeALnzwgq','uwnfq2i','C2v0','rxjYB3iGz2v0DgLUzYbHy3rPB24GzM9YigPPzca','sMLKia','vgHPCYbJB21Tyw5KigLZig9UBhKGyxzHAwXHyMXLigzVCIbNCM91Chm','zxHWB3j0CW','mtC1mZqZm2LcExruyq','rxjYB3iGC2v0DgLUzYa','rMrWvhO','igfJDgLVBI8','z2v0'];a63_0x2e88=function(){return _0x315b56;};return a63_0x2e88();}