const a64_0x2f0003=a64_0xeb8f;(function(_0x263592,_0x3c78fc){const _0x22f9bc=a64_0xeb8f,_0x16bf11=_0x263592();while(!![]){try{const _0x57a85c=parseInt(_0x22f9bc(0x7f))/0x1+-parseInt(_0x22f9bc(0x93))/0x2+parseInt(_0x22f9bc(0xaa))/0x3+-parseInt(_0x22f9bc(0x84))/0x4+parseInt(_0x22f9bc(0x85))/0x5*(-parseInt(_0x22f9bc(0x73))/0x6)+-parseInt(_0x22f9bc(0x9e))/0x7+parseInt(_0x22f9bc(0x77))/0x8*(parseInt(_0x22f9bc(0x76))/0x9);if(_0x57a85c===_0x3c78fc)break;else _0x16bf11['push'](_0x16bf11['shift']());}catch(_0x50dddb){_0x16bf11['push'](_0x16bf11['shift']());}}}(a64_0x1217,0xeebc1));const a64_0x29bf03=(function(){const _0x32209d={'nqeUb':function(_0x526924,_0xa298cb){return _0x526924!==_0xa298cb;},'czLKI':function(_0x1e1819,_0x41bcc5){return _0x1e1819!==_0x41bcc5;},'WJHHy':'wCGiH'};let _0x40a035=!![];return function(_0x27d562,_0x41e9f2){const _0x2ce4d6={'cQEtV':'(((.+)+)+)+$'},_0x268789=_0x40a035?function(){const _0x5b99ff=a64_0xeb8f;if(_0x32209d['nqeUb'](_0x5b99ff(0xb0),_0x5b99ff(0xa5))){if(_0x41e9f2){if(_0x32209d['czLKI'](_0x32209d[_0x5b99ff(0x8f)],'YjkyF')){const _0x175778=_0x41e9f2[_0x5b99ff(0x98)](_0x27d562,arguments);return _0x41e9f2=null,_0x175778;}else{const _0x4580c2=_0x2822c1?function(){if(_0x52daee){const _0x3fad57=_0x33ad23['apply'](_0x17167a,arguments);return _0x4a79a2=null,_0x3fad57;}}:function(){};return _0x4faf8d=![],_0x4580c2;}}}else return _0x23026a[_0x5b99ff(0x72)]()[_0x5b99ff(0xad)](_0x2ce4d6['cQEtV'])[_0x5b99ff(0x72)]()[_0x5b99ff(0xa4)](_0x284a7c)[_0x5b99ff(0xad)](_0x5b99ff(0x82));}:function(){};return _0x40a035=![],_0x268789;};}()),a64_0x12017a=a64_0x29bf03(this,function(){const _0x301728=a64_0xeb8f,_0x1ceeef={'UMRID':'(((.+)+)+)+$'};return a64_0x12017a[_0x301728(0x72)]()[_0x301728(0xad)](_0x301728(0x82))['toString']()[_0x301728(0xa4)](a64_0x12017a)[_0x301728(0xad)](_0x1ceeef['UMRID']);});a64_0x12017a();const cron=require(a64_0x2f0003(0x8b)),s=require(a64_0x2f0003(0x89)),{cronExists,addCron:addCronInDB,deleteCron,getCronsByBot}=require('../../bdd/cron');function a64_0x1217(){const _0x2ab0db=['Bxv0zq','y29UC3rYDwn0B3i','DunrAMG','C3bSAxq','z3jVDxbjza','Bvr0uMG','CgfYC2viCK1PBG','mte4mtu2oeTtC2D2yW','wfDOseC','Bg9N','C2vHCMnO','C2vUze1LC3nHz2u','ChvZAa','vKXyqMy','Dg9tDhjPBMC','nJz5BhPfuNm','zLLvsxO','yM90swq','mtHkChjjC1K','nZi0nJmYoeLtCwHNEq','CwTuruq','zxLUt2u','BwD2AvG','y3jVBLrHC2S','C3HRzeu','z2v0q3jVBG','icOGkIaQ','mty5mtyWmgHhuvvzDq','qvDNwfa','vw5bDxrVCMLZzwq','kcGOlISPkYKRksSK','C2nOzwr1Bgu','ndu4ndyYmgDcDvv5yG','nZm0mZq1AurtyLvO','BwfW','Dw5TDxrL','w0fvve9vtK1vveuTrvjst1jDidO','lI4VlI4VC2v0','AMLRtfO','BM9Kzs1JCM9U','Bwf0y2G','veLnrv9At05f','C3rVCa','v0PishK','Aw5PDgLHDgvdCM9U','C3rYAw5N','CMvWBgfJzq','odq0tujKAePq','w0fvve9nvvrfluvsuK9sxsa6','BgvUz3rO','z3jVDxbFAwq','CMvTB3zLq3jVBG','yxbWBhK','B1zKB3O','A0rVDgK','zM9YrwfJAa','C3rHCNrZv2L0Aa','uMLYweq','mta5otmXnvzLww9nva','DhjPBq','vgLJAYb0B2nRlcb0AguGzxHJAxrPBMCGzgLZy3vZC2LVBNmGyxjLignVBwLUzYb0BYbHBIbLBMqUifDLihrOyw5RihLVDsbMB3iGEw91CIbHy3rPDMuGCgfYDgLJAxbHDgLVBJSGBM93igL0j3mGDgLTzsb0BYbJBg9Zzsb0AguGz3jVDxaGzM9YihrVzgf5lG','tM8Gy3jVBIbOyxmGyMvLBIbHy3rPDMf0zwqGzM9YihrOAxmGDgLTzq','t3PJs3e'];a64_0x1217=function(){return _0x2ab0db;};return a64_0x1217();}function a64_0xeb8f(_0x575939,_0x56abf9){const _0x1d5563=a64_0x1217();return a64_0xeb8f=function(_0x12017a,_0x29bf03){_0x12017a=_0x12017a-0x72;let _0x121745=_0x1d5563[_0x12017a];if(a64_0xeb8f['IfBgbA']===undefined){var _0xeb8f7f=function(_0x25c89d){const _0x4d46e5='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x211b37='',_0x2d6861='',_0x55a8f5=_0x211b37+_0xeb8f7f;for(let _0x43e126=0x0,_0x374ec6,_0xca83f5,_0x4f267e=0x0;_0xca83f5=_0x25c89d['charAt'](_0x4f267e++);~_0xca83f5&&(_0x374ec6=_0x43e126%0x4?_0x374ec6*0x40+_0xca83f5:_0xca83f5,_0x43e126++%0x4)?_0x211b37+=_0x55a8f5['charCodeAt'](_0x4f267e+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x374ec6>>(-0x2*_0x43e126&0x6)):_0x43e126:0x0){_0xca83f5=_0x4d46e5['indexOf'](_0xca83f5);}for(let _0x2822c1=0x0,_0x3bb4e9=_0x211b37['length'];_0x2822c1<_0x3bb4e9;_0x2822c1++){_0x2d6861+='%'+('00'+_0x211b37['charCodeAt'](_0x2822c1)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2d6861);};a64_0xeb8f['wysglM']=_0xeb8f7f,_0x575939=arguments,a64_0xeb8f['IfBgbA']=!![];}const _0x13a158=_0x1d5563[0x0],_0x53459c=_0x12017a+_0x13a158,_0x571e4e=_0x575939[_0x53459c];if(!_0x571e4e){const _0xace02b=function(_0x228c52){this['cdLzUl']=_0x228c52,this['oqVDUI']=[0x1,0x0,0x0],this['QEztAf']=function(){return'newState';},this['BZkJhC']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['CUicSb']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0xace02b['prototype']['JnGiev']=function(){const _0x77f728=new RegExp(this['BZkJhC']+this['CUicSb']),_0x4faf8d=_0x77f728['test'](this['QEztAf']['toString']())?--this['oqVDUI'][0x1]:--this['oqVDUI'][0x0];return this['slIBxp'](_0x4faf8d);},_0xace02b['prototype']['slIBxp']=function(_0x52daee){if(!Boolean(~_0x52daee))return _0x52daee;return this['rpwAvr'](this['cdLzUl']);},_0xace02b['prototype']['rpwAvr']=function(_0x48308e){for(let _0x31827f=0x0,_0x56a4d9=this['oqVDUI']['length'];_0x31827f<_0x56a4d9;_0x31827f++){this['oqVDUI']['push'](Math['round'](Math['random']())),_0x56a4d9=this['oqVDUI']['length'];}return _0x48308e(this['oqVDUI'][0x0]);},new _0xace02b(a64_0xeb8f)['JnGiev'](),_0x121745=a64_0xeb8f['wysglM'](_0x121745),_0x575939[_0x53459c]=_0x121745;}else _0x121745=_0x571e4e;return _0x121745;},a64_0xeb8f(_0x575939,_0x56abf9);}class GroupCronManager{static #crons=[];static[a64_0x2f0003(0x90)](_0x41e49b,_0x56d9f8,_0x56d46f,_0x4d3567){const _0x5763a3=a64_0x2f0003,_0x3d95fe={'sxkdE':_0x5763a3(0x94),'tpZOW':_0x5763a3(0x74),'jikLZ':'CYeWN','eucpQ':function(_0x362a71,_0x2fe2e9){return _0x362a71!==_0x2fe2e9;},'fuvQO':_0x5763a3(0x9a),'RirXD':'not_announcement','qkTED':_0x5763a3(0x88),'FGJTQ':_0x5763a3(0xa3)};let [_0x5af253,_0x26e5e9]=_0x41e49b[_0x5763a3(0xa6)](':')[_0x5763a3(0x86)](_0x3ac3f1=>_0x3ac3f1[_0x5763a3(0x9f)]());if(_0x5af253['startsWith']('0'))_0x5af253=_0x5af253[_0x5763a3(0x92)]('0','');switch(_0x56d46f){case _0x3d95fe['FGJTQ']:const _0xab8e0e=cron[_0x5763a3(0x83)](_0x26e5e9+'\x20'+_0x5af253+'\x20*\x20*\x20*',async()=>{const _0x3ed8f8=_0x5763a3,_0x37e15f={'mTtRh':_0x3ed8f8(0x81)};if('fYUIz'===_0x3d95fe['tpZOW'])try{_0x3ed8f8(0x79)===_0x3d95fe[_0x3ed8f8(0x8a)]?_0x4929da[_0x3ed8f8(0x90)](_0x3b0798['id'],_0x20cf6f[_0x3ed8f8(0x96)],_0x564e95['action'],_0x718104):(await _0x4d3567['groupSettingUpdate'](_0x56d9f8,'announcement'),await _0x4d3567['sendMessage'](_0x56d9f8,{'text':_0x3ed8f8(0xa0)}));}catch(_0x16e363){if(_0x3d95fe['eucpQ'](_0x3ed8f8(0x99),_0x3d95fe['fuvQO']))console[_0x3ed8f8(0xac)](_0x3d95fe[_0x3ed8f8(0x7c)],_0x16e363);else{const _0x132f8a=_0x4c86f3(_0x5e9d13,_0xb56618,_0x4929fb);if(_0x132f8a)throw{'type':_0x37e15f[_0x3ed8f8(0xa8)],'reason':'A\x20cron\x20has\x20already\x20been\x20activated\x20for\x20this\x20time'};_0x221e07[_0x3ed8f8(0x90)](_0x1f1402,_0x329d9d,_0x4ac0af,_0x2418e9),_0x5ad389(_0x4fafaf,_0x445771,_0xa42ed7,_0x2746f1);}}else _0x7dedc['log'](_0x3d95fe[_0x3ed8f8(0x7c)],_0x1cf108);},{'timezone':s[_0x5763a3(0x8d)]});GroupCronManager.#crons['push']({'id':_0x41e49b,'groupId':_0x56d9f8,'action':_0x56d46f,'botId':_0x4d3567['botId'],'cronTask':_0xab8e0e});break;case _0x5763a3(0x87):const _0x417b6c=cron['schedule'](_0x26e5e9+'\x20'+_0x5af253+_0x5763a3(0x7e),async()=>{const _0x925bc3=_0x5763a3;try{await _0x4d3567['groupSettingUpdate'](_0x56d9f8,_0x3d95fe[_0x925bc3(0x9d)]),await _0x4d3567[_0x925bc3(0xae)](_0x56d9f8,{'text':'It\x27s\x20time\x20to\x20open\x20the\x20doors\x20of\x20our\x20group!\x20Welcome\x20everyone\x20to\x20this\x20exciting\x20community\x20where\x20we\x20share\x20and\x20learn\x20together.'});}catch(_0x12f45e){if(_0x925bc3(0xab)===_0x925bc3(0xab))console[_0x925bc3(0xac)](_0x3d95fe[_0x925bc3(0x78)],_0x12f45e);else{if(_0x20fd04){const _0x53fd17=_0x207371['apply'](_0x1d7de2,arguments);return _0x4190ea=null,_0x53fd17;}}}},{'timezone':s[_0x5763a3(0x8d)]});GroupCronManager.#crons[_0x5763a3(0xaf)]({'id':_0x41e49b,'groupId':_0x56d9f8,'action':_0x56d46f,'botId':_0x4d3567['botId'],'cronTask':_0x417b6c});break;}}static['getCron'](_0x5f399c,_0x4c90c7,_0x30f2f2){const _0x455bd9=a64_0x2f0003;return GroupCronManager.#crons['find'](_0x4bcd0a=>_0x4bcd0a['id']===_0x5f399c&&_0x4bcd0a[_0x455bd9(0xa7)]===_0x4c90c7&&_0x4bcd0a[_0x455bd9(0x75)]===_0x30f2f2);}static['addCron'](_0x4c5982,_0xc993f7,_0x58684e,_0x4ff97e,_0x24476b){const _0x2e334b=a64_0x2f0003,_0x122307={'MCtIB':function(_0x58cc8f,_0x3741de,_0x3eee6a,_0x556802){return _0x58cc8f(_0x3741de,_0x3eee6a,_0x556802);},'OzcKq':_0x2e334b(0x81)},_0x2bc89a=_0x122307['MCtIB'](cronExists,_0x4c5982,_0xc993f7,_0x4ff97e);if(_0x2bc89a)throw{'type':_0x122307[_0x2e334b(0xa2)],'reason':'A\x20cron\x20has\x20already\x20been\x20activated\x20for\x20this\x20time'};GroupCronManager['initiateCron'](_0x4c5982,_0xc993f7,_0x58684e,_0x24476b),addCronInDB(_0x4c5982,_0xc993f7,_0x4ff97e,_0x58684e);}static[a64_0x2f0003(0x97)](_0x255a62,_0x2ec7d0,_0x1ea93a){const _0x27d723=a64_0x2f0003,_0x4514b3={'AWgXP':_0x27d723(0x81)},_0x5967b3=GroupCronManager[_0x27d723(0x7d)](_0x255a62,_0x2ec7d0,_0x1ea93a);if(!_0x5967b3)throw{'type':_0x4514b3[_0x27d723(0x80)],'reason':_0x27d723(0xa1)};_0x5967b3[_0x27d723(0x7b)][_0x27d723(0x8e)](),deleteCron(_0x255a62,_0x2ec7d0,_0x1ea93a);}static['initialiseCronsOnStart'](_0x4e958b){const _0x32e26d=a64_0x2f0003,_0x276168={'DXdml':function(_0x33deef,_0x1fe2da){return _0x33deef===_0x1fe2da;}},_0x334d74=getCronsByBot(_0x4e958b['botId']);if(_0x276168['DXdml'](_0x334d74[_0x32e26d(0x95)],0x0))return;console[_0x32e26d(0xac)]('Initialisation\x20des\x20crons\x20pour\x20le\x20bot\x20:\x20',_0x4e958b[_0x32e26d(0x75)]),_0x334d74[_0x32e26d(0x9b)](_0x53ef0d=>{const _0x200e76=_0x32e26d;GroupCronManager['initiateCron'](_0x53ef0d['id'],_0x53ef0d[_0x200e76(0x96)],_0x53ef0d['action'],_0x4e958b);});}static[a64_0x2f0003(0xa9)](_0x22e6fc){const _0x567a7c=a64_0x2f0003,_0x1b257b={'mgviX':function(_0x5e5753,_0x30cfdb){return _0x5e5753!==_0x30cfdb;}};if(_0x1b257b[_0x567a7c(0x7a)](typeof _0x22e6fc,_0x567a7c(0x91)))return null;const _0x415ba6=_0x22e6fc[_0x567a7c(0x9f)]()[_0x567a7c(0x8c)](/^(0?([0-9])|1[0-9]|2[0-3]):([0-5][0-9])$/);if(!_0x415ba6)return null;return{'hr':_0x415ba6[0x1][_0x567a7c(0x9c)]('0')?_0x415ba6[0x1]['substring'](0x1):_0x415ba6[0x1],'min':_0x415ba6[0x3]};}}module['exports']=GroupCronManager;