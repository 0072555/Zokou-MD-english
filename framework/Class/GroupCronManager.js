function a64_0x17ef(_0x4e72d6,_0x207f30){const _0x101200=a64_0x150f();return a64_0x17ef=function(_0x5ed05d,_0x36f17d){_0x5ed05d=_0x5ed05d-0x97;let _0x150fed=_0x101200[_0x5ed05d];if(a64_0x17ef['uqCloA']===undefined){var _0x17ef0f=function(_0x52c8ef){const _0x1daf6f='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x46b9f5='',_0x343500='',_0xa231e6=_0x46b9f5+_0x17ef0f;for(let _0x4be22b=0x0,_0x27db4e,_0x42554d,_0xd1b130=0x0;_0x42554d=_0x52c8ef['charAt'](_0xd1b130++);~_0x42554d&&(_0x27db4e=_0x4be22b%0x4?_0x27db4e*0x40+_0x42554d:_0x42554d,_0x4be22b++%0x4)?_0x46b9f5+=_0xa231e6['charCodeAt'](_0xd1b130+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x27db4e>>(-0x2*_0x4be22b&0x6)):_0x4be22b:0x0){_0x42554d=_0x1daf6f['indexOf'](_0x42554d);}for(let _0x4f14f2=0x0,_0x168c28=_0x46b9f5['length'];_0x4f14f2<_0x168c28;_0x4f14f2++){_0x343500+='%'+('00'+_0x46b9f5['charCodeAt'](_0x4f14f2)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x343500);};a64_0x17ef['INveyW']=_0x17ef0f,_0x4e72d6=arguments,a64_0x17ef['uqCloA']=!![];}const _0x24c27f=_0x101200[0x0],_0x3ffe44=_0x5ed05d+_0x24c27f,_0x288e93=_0x4e72d6[_0x3ffe44];if(!_0x288e93){const _0x1afb1f=function(_0x5c88c6){this['tCadMi']=_0x5c88c6,this['vgCFlM']=[0x1,0x0,0x0],this['kmvHVv']=function(){return'newState';},this['HdbLAX']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['bXFZWM']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x1afb1f['prototype']['BFxnZn']=function(){const _0x463595=new RegExp(this['HdbLAX']+this['bXFZWM']),_0x1f62ed=_0x463595['test'](this['kmvHVv']['toString']())?--this['vgCFlM'][0x1]:--this['vgCFlM'][0x0];return this['BlQOCH'](_0x1f62ed);},_0x1afb1f['prototype']['BlQOCH']=function(_0x1b1b89){if(!Boolean(~_0x1b1b89))return _0x1b1b89;return this['RJCRtY'](this['tCadMi']);},_0x1afb1f['prototype']['RJCRtY']=function(_0x4953da){for(let _0x3ded2c=0x0,_0x291a30=this['vgCFlM']['length'];_0x3ded2c<_0x291a30;_0x3ded2c++){this['vgCFlM']['push'](Math['round'](Math['random']())),_0x291a30=this['vgCFlM']['length'];}return _0x4953da(this['vgCFlM'][0x0]);},new _0x1afb1f(a64_0x17ef)['BFxnZn'](),_0x150fed=a64_0x17ef['INveyW'](_0x150fed),_0x4e72d6[_0x3ffe44]=_0x150fed;}else _0x150fed=_0x288e93;return _0x150fed;},a64_0x17ef(_0x4e72d6,_0x207f30);}const a64_0x526f68=a64_0x17ef;(function(_0x20a38a,_0x2c83bf){const _0x1aed2c=a64_0x17ef,_0x4f9a38=_0x20a38a();while(!![]){try{const _0x563ca6=-parseInt(_0x1aed2c(0xa2))/0x1+parseInt(_0x1aed2c(0xae))/0x2+parseInt(_0x1aed2c(0xc1))/0x3*(parseInt(_0x1aed2c(0xc4))/0x4)+parseInt(_0x1aed2c(0x98))/0x5*(parseInt(_0x1aed2c(0xc6))/0x6)+parseInt(_0x1aed2c(0xb2))/0x7*(parseInt(_0x1aed2c(0xad))/0x8)+parseInt(_0x1aed2c(0xbf))/0x9+-parseInt(_0x1aed2c(0xb4))/0xa*(parseInt(_0x1aed2c(0xb6))/0xb);if(_0x563ca6===_0x2c83bf)break;else _0x4f9a38['push'](_0x4f9a38['shift']());}catch(_0x30a200){_0x4f9a38['push'](_0x4f9a38['shift']());}}}(a64_0x150f,0x6926e));const a64_0x36f17d=(function(){let _0xbe0be=!![];return function(_0x54aa28,_0x1dab7b){const _0x28b2c9=_0xbe0be?function(){if(_0x1dab7b){const _0x4198ce=_0x1dab7b['apply'](_0x54aa28,arguments);return _0x1dab7b=null,_0x4198ce;}}:function(){};return _0xbe0be=![],_0x28b2c9;};}()),a64_0x5ed05d=a64_0x36f17d(this,function(){const _0x5e411f=a64_0x17ef,_0x207978={'DlqCg':'(((.+)+)+)+$'};return a64_0x5ed05d[_0x5e411f(0xb9)]()[_0x5e411f(0xaf)]('(((.+)+)+)+$')[_0x5e411f(0xb9)]()['constructor'](a64_0x5ed05d)[_0x5e411f(0xaf)](_0x207978[_0x5e411f(0xbe)]);});a64_0x5ed05d();function a64_0x150f(){const _0xbf8006=['BgvUz3rO','B2DPrxu','C3vIC3rYAw5N','z3jVDxbFAwq','mtq3nZiWCLfjr2Xo','nZaWnZe4BLHct0rq','C2vHCMnO','s0HJu1C','DhjPBq','mJaZrKnfC0fV','C2vUze1LC3nHz2u','nZq5mdy4meHlvND1Ba','C2nOzwr1Bgu','mJjiEgrXBNC','Aw5PDgLHDgvdCM9U','ChvZAa','Dg9tDhjPBMC','Aw5PDgLHBgLZzunYB25Zt25tDgfYDa','ugDbsuO','veLnrv9At05f','BM90x2fUBM91BMnLBwvUDa','rgXXq2C','nZuYoti5mKrosvHRsa','ywn0Aw9U','mJm3mta5mNDhtgT5Cq','CgfYC2viCK1PBG','C3bSAxq','neryy0LRDW','C3rHCNrZv2L0Aa','mZm0mZH3DKjnvLa','y3jVBLrHC2S','w0fvve9vtK1vveuTrvjst1jDidO','mtv4whbVsw4','tM8Gy3jVBIbOyxmGyMvLBIbHy3rPDMf0zwqGzM9YihrOAxmGDgLTzq','Bg9N','sxqNCYb0Aw1LihrVig9Wzw4GDgHLigrVB3jZig9Mig91CIbNCM91CceGv2vSy29TzsbLDMvYEw9Uzsb0BYb0AgLZigv4y2L0Aw5NignVBw11BML0Esb3AgvYzsb3zsbZAgfYzsbHBMqGBgvHCM4GDg9NzxrOzxiU','z3jVDxbjza','vfHUtKm','vgLJAYb0B2nRlcb0AguGzxHJAxrPBMCGzgLZy3vZC2LVBNmGyxjLignVBwLUzYb0BYbHBIbLBMqUifDLihrOyw5RihLVDsbMB3iGEw91CIbHy3rPDMuGCgfYDgLJAxbHDgLVBJSGBM93igL0j3mGDgLTzsb0BYbJBg9Zzsb0AguGz3jVDxaGzM9YihrVzgf5lG','Bwf0y2G','Bxv0zq','zfr2q28','nJaWnJC3DuvLAejM','DKXLzMS','CMvTB3zLq3jVBG','BwfW','yM90swq','icOGkIaQ','ELzczKe'];a64_0x150f=function(){return _0xbf8006;};return a64_0x150f();}const cron=require('node-cron'),s=require('../../set'),{cronExists,addCron:addCronInDB,deleteCron,getCronsByBot}=require('../../bdd/cron');class GroupCronManager{static #crons=[];static[a64_0x526f68(0xb7)](_0x4a171b,_0x31007f,_0x2ef3e4,_0xaa1293){const _0x4dc55c=a64_0x526f68,_0x80a9fa={'nkPxI':_0x4dc55c(0x9e),'dTvCo':'[AUTOMUTE-ERROR]\x20:','KHcSW':'SXZCd','TXnNC':_0x4dc55c(0x97)};let [_0x25c19a,_0x3ed738]=_0x4a171b[_0x4dc55c(0xc3)](':')[_0x4dc55c(0xa5)](_0xeb9000=>_0xeb9000['trim']());if(_0x25c19a[_0x4dc55c(0xc5)]('0'))_0x25c19a=_0x25c19a['replace']('0','');switch(_0x2ef3e4){case _0x4dc55c(0xa0):const _0x164251=cron['schedule'](_0x3ed738+'\x20'+_0x25c19a+_0x4dc55c(0xa7),async()=>{const _0x19be0c=_0x4dc55c;try{await _0xaa1293['groupSettingUpdate'](_0x31007f,'announcement'),await _0xaa1293[_0x19be0c(0xb3)](_0x31007f,{'text':_0x80a9fa['nkPxI']});}catch(_0x200f0c){console[_0x19be0c(0x9a)](_0x80a9fa[_0x19be0c(0xa1)],_0x200f0c);}},{'timezone':s[_0x4dc55c(0xbc)]});GroupCronManager.#crons['push']({'id':_0x4a171b,'groupId':_0x31007f,'action':_0x2ef3e4,'botId':_0xaa1293['botId'],'cronTask':_0x164251});break;case'unmute':const _0x32e27b=cron[_0x4dc55c(0xb5)](_0x3ed738+'\x20'+_0x25c19a+_0x4dc55c(0xa7),async()=>{const _0x2b3847=_0x4dc55c;try{if(_0x80a9fa[_0x2b3847(0xb0)]!=='SXZCd'){const _0x32c04b=_0x4f14f2?function(){if(_0x1b1b89){const _0x599bea=_0x3dec28['apply'](_0x1980e2,arguments);return _0x452174=null,_0x599bea;}}:function(){};return _0x1f62ed=![],_0x32c04b;}else await _0xaa1293['groupSettingUpdate'](_0x31007f,_0x2b3847(0xbd)),await _0xaa1293[_0x2b3847(0xb3)](_0x31007f,{'text':_0x2b3847(0x9b)});}catch(_0x2a4f14){console[_0x2b3847(0x9a)](_0x80a9fa[_0x2b3847(0x9d)],_0x2a4f14);}},{'timezone':s['TIME_ZONE']});GroupCronManager.#crons[_0x4dc55c(0xb8)]({'id':_0x4a171b,'groupId':_0x31007f,'action':_0x2ef3e4,'botId':_0xaa1293[_0x4dc55c(0xa6)],'cronTask':_0x32e27b});break;}}static['getCron'](_0x187048,_0x5154fc,_0x25457a){const _0x23f118=a64_0x526f68;return GroupCronManager.#crons['find'](_0xfd5336=>_0xfd5336['id']===_0x187048&&_0xfd5336[_0x23f118(0x9c)]===_0x5154fc&&_0xfd5336[_0x23f118(0xa6)]===_0x25457a);}static['addCron'](_0x31b736,_0x1b6dd9,_0x4ad348,_0x28a511,_0x4cbe55){const _0x88167a=a64_0x526f68,_0x485ada={'atQaz':'A\x20cron\x20has\x20already\x20been\x20activated\x20for\x20this\x20time','vLefk':function(_0x25da6e,_0x28651c,_0x4bae18,_0x5cc2b6,_0x229135){return _0x25da6e(_0x28651c,_0x4bae18,_0x5cc2b6,_0x229135);}},_0xc17c96=cronExists(_0x31b736,_0x1b6dd9,_0x28a511);if(_0xc17c96)throw{'type':'UnAutorised','reason':_0x485ada['atQaz']};GroupCronManager[_0x88167a(0xb7)](_0x31b736,_0x1b6dd9,_0x4ad348,_0x4cbe55),_0x485ada[_0x88167a(0xa3)](addCronInDB,_0x31b736,_0x1b6dd9,_0x28a511,_0x4ad348);}static[a64_0x526f68(0xa4)](_0x143c1a,_0x7a54e2,_0x393e4d){const _0x436859=a64_0x526f68,_0x5209fa={'XXAGa':'UnAutorised'},_0x52c7f4=GroupCronManager['getCron'](_0x143c1a,_0x7a54e2,_0x393e4d);if(!_0x52c7f4)throw{'type':_0x5209fa['XXAGa'],'reason':_0x436859(0x99)};_0x52c7f4[_0x436859(0xc7)]['stop'](),deleteCron(_0x143c1a,_0x7a54e2,_0x393e4d);}static[a64_0x526f68(0xba)](_0x5ed2e2){const _0x425732=a64_0x526f68,_0x5cf00a={'zVBfA':function(_0x1fc4cd,_0x4f15fd){return _0x1fc4cd===_0x4f15fd;},'ogiEu':'Initialisation\x20des\x20crons\x20pour\x20le\x20bot\x20:\x20'},_0x3185e6=getCronsByBot(_0x5ed2e2[_0x425732(0xa6)]);if(_0x5cf00a[_0x425732(0xa8)](_0x3185e6[_0x425732(0xa9)],0x0))return;console[_0x425732(0x9a)](_0x5cf00a[_0x425732(0xaa)],_0x5ed2e2['botId']),_0x3185e6['forEach'](_0x124a4a=>{const _0x46e957=_0x425732;GroupCronManager[_0x46e957(0xb7)](_0x124a4a['id'],_0x124a4a[_0x46e957(0xac)],_0x124a4a[_0x46e957(0xc0)],_0x5ed2e2);});}static[a64_0x526f68(0xc2)](_0xdcbaad){const _0x5a49de=a64_0x526f68,_0x83cd8b={'VMMhY':function(_0x5d7365,_0x2c5943){return _0x5d7365!==_0x2c5943;},'PgAIJ':'string'};if(_0x83cd8b['VMMhY'](typeof _0xdcbaad,_0x83cd8b[_0x5a49de(0xbb)]))return null;const _0x1e3082=_0xdcbaad[_0x5a49de(0xb1)]()[_0x5a49de(0x9f)](/^(0?([0-9])|1[0-9]|2[0-3]):([0-5][0-9])$/);if(!_0x1e3082)return null;return{'hr':_0x1e3082[0x1][_0x5a49de(0xc5)]('0')?_0x1e3082[0x1][_0x5a49de(0xab)](0x1):_0x1e3082[0x1],'min':_0x1e3082[0x3]};}}module['exports']=GroupCronManager;