function a15_0x2c45(){const _0x2411e6=['703776vdIEPh','search','144204IRnhMr','198909SuOnPq','constructor','UPDATE\x20warn_users\x20SET\x20warn_count\x20=\x200\x20WHERE\x20jid\x20=\x20$1','449693rqrOZX','error','toString','query','1863128YlQFgO','7681968VVMQwC','release','La\x20table\x20\x27warn_users\x27\x20a\x20été\x20créée\x20avec\x20succès.','dotenv','rows','7wJvYiT','Utilisateur\x20','Erreur\x20lors\x20de\x20la\x20création\x20de\x20la\x20table\x20\x27warn_users\x27:','Le\x20warn_count\x20de\x20l\x27utilisateur\x20','10zPOwnG','DATABASE_URL','log','1989048HLUcvR','Erreur\x20lors\x20de\x20la\x20réinitialisation\x20du\x20warn_count\x20:','length','exports','apply','connect','Erreur\x20lors\x20de\x20l\x27ajout\x20ou\x20de\x20la\x20mise\x20à\x20jour\x20de\x20l\x27utilisateur\x20:','\x20ajouté\x20ou\x20mis\x20à\x20jour\x20avec\x20un\x20warn_count\x20de\x201.','(((.+)+)+)+$','\x20a\x20été\x20réinitialisé\x20à\x200.'];a15_0x2c45=function(){return _0x2411e6;};return a15_0x2c45();}const a15_0x578b57=a15_0x2ffe;function a15_0x2ffe(_0x493abf,_0x38e380){const _0x380f2b=a15_0x2c45();return a15_0x2ffe=function(_0xe4ec98,_0x5c09f9){_0xe4ec98=_0xe4ec98-0x66;let _0x2c4513=_0x380f2b[_0xe4ec98];return _0x2c4513;},a15_0x2ffe(_0x493abf,_0x38e380);}(function(_0x2ece51,_0xfb3431){const _0x5113a=a15_0x2ffe,_0x97f612=_0x2ece51();while(!![]){try{const _0x23f312=parseInt(_0x5113a(0x6c))/0x1+-parseInt(_0x5113a(0x68))/0x2+-parseInt(_0x5113a(0x69))/0x3+-parseInt(_0x5113a(0x66))/0x4*(parseInt(_0x5113a(0x7a))/0x5)+-parseInt(_0x5113a(0x7d))/0x6+parseInt(_0x5113a(0x76))/0x7*(-parseInt(_0x5113a(0x70))/0x8)+parseInt(_0x5113a(0x71))/0x9;if(_0x23f312===_0xfb3431)break;else _0x97f612['push'](_0x97f612['shift']());}catch(_0x3ff336){_0x97f612['push'](_0x97f612['shift']());}}}(a15_0x2c45,0x3cae9),require(a15_0x578b57(0x74))['config']());const {Pool}=require('pg'),s=require('../set');var dbUrl=s[a15_0x578b57(0x7b)]?s[a15_0x578b57(0x7b)]:'postgres://db_7xp9_user:6hwmTN7rGPNsjlBEHyX49CXwrG7cDeYi@dpg-cj7ldu5jeehc73b2p7g0-a.oregon-postgres.render.com/db_7xp9';const proConfig={'connectionString':dbUrl,'ssl':{'rejectUnauthorized':![]}},pool=new Pool(proConfig);async function creerTableWarnUsers(){const _0x302610=a15_0x578b57,_0x329e60=(function(){let _0x29a383=!![];return function(_0x5d74e2,_0x3db24f){const _0x313725=_0x29a383?function(){const _0x8abb99=a15_0x2ffe;if(_0x3db24f){const _0x416883=_0x3db24f[_0x8abb99(0x81)](_0x5d74e2,arguments);return _0x3db24f=null,_0x416883;}}:function(){};return _0x29a383=![],_0x313725;};}()),_0x3cbe80=_0x329e60(this,function(){const _0x554bda=a15_0x2ffe;return _0x3cbe80[_0x554bda(0x6e)]()['search'](_0x554bda(0x85))[_0x554bda(0x6e)]()[_0x554bda(0x6a)](_0x3cbe80)[_0x554bda(0x67)](_0x554bda(0x85));});_0x3cbe80();const _0x5423ff=await pool[_0x302610(0x82)]();try{const _0x8362fa='\x0a\x20\x20\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20warn_users\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20jid\x20text\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20warn_count\x20integer\x20DEFAULT\x200\x0a\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20';await _0x5423ff[_0x302610(0x6f)](_0x8362fa),console[_0x302610(0x7c)](_0x302610(0x73));}catch(_0x3d233d){console['error'](_0x302610(0x78),_0x3d233d);}finally{_0x5423ff[_0x302610(0x72)]();}};creerTableWarnUsers();async function ajouterUtilisateurAvecWarnCount(_0x174a45){const _0xd3a0ac=a15_0x578b57,_0x506496=await pool[_0xd3a0ac(0x82)]();try{const _0x5cc4c2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20warn_users\x20(jid,\x20warn_count)\x0a\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20($1,\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ON\x20CONFLICT\x20(jid)\x0a\x20\x20\x20\x20\x20\x20\x20\x20DO\x20UPDATE\x20SET\x20warn_count\x20=\x20warn_users.warn_count\x20+\x201;\x0a\x20\x20\x20\x20\x20\x20',_0x2019ce=[_0x174a45];await _0x506496[_0xd3a0ac(0x6f)](_0x5cc4c2,_0x2019ce),console[_0xd3a0ac(0x7c)](_0xd3a0ac(0x77)+_0x174a45+_0xd3a0ac(0x84));}catch(_0x13df90){console[_0xd3a0ac(0x6d)](_0xd3a0ac(0x83),_0x13df90);}finally{_0x506496[_0xd3a0ac(0x72)]();}};async function getWarnCountByJID(_0x545dfd){const _0xa7ba9f=a15_0x578b57,_0x4b92e1=await pool[_0xa7ba9f(0x82)]();try{const _0x2daea8='SELECT\x20warn_count\x20FROM\x20warn_users\x20WHERE\x20jid\x20=\x20$1',_0x44e142=[_0x545dfd],_0x3d3ca5=await _0x4b92e1['query'](_0x2daea8,_0x44e142);if(_0x3d3ca5['rows'][_0xa7ba9f(0x7f)]>0x0){const _0x291db0=_0x3d3ca5[_0xa7ba9f(0x75)][0x0]['warn_count'];return _0x291db0;}else return 0x0;}catch(_0x315b34){return console[_0xa7ba9f(0x6d)]('Erreur\x20lors\x20de\x20la\x20récupération\x20du\x20warn_count\x20:',_0x315b34),-0x1;}finally{_0x4b92e1[_0xa7ba9f(0x72)]();}};async function resetWarnCountByJID(_0x392d51){const _0x374d82=a15_0x578b57,_0x14f97b=await pool[_0x374d82(0x82)]();try{const _0x2e5d54=_0x374d82(0x6b),_0x276cf3=[_0x392d51];await _0x14f97b['query'](_0x2e5d54,_0x276cf3),console[_0x374d82(0x7c)](_0x374d82(0x79)+_0x392d51+_0x374d82(0x86));}catch(_0x30b21a){console['error'](_0x374d82(0x7e),_0x30b21a);}finally{_0x14f97b[_0x374d82(0x72)]();}}module[a15_0x578b57(0x80)]={'ajouterUtilisateurAvecWarnCount':ajouterUtilisateurAvecWarnCount,'getWarnCountByJID':getWarnCountByJID,'resetWarnCountByJID':resetWarnCountByJID};