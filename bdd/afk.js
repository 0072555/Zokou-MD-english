const a0_0x384007=a0_0x3e88;function a0_0x3e88(_0x1441c0,_0xb80b59){const _0x28c3d0=a0_0x203b();return a0_0x3e88=function(_0x50caae,_0x1c2b44){_0x50caae=_0x50caae-0xa7;let _0x203bad=_0x28c3d0[_0x50caae];if(a0_0x3e88['icDtLq']===undefined){var _0x3e88e2=function(_0x471fef){const _0x5a359c='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x542eb3='',_0x3f7fef='',_0x254300=_0x542eb3+_0x3e88e2;for(let _0x14fa32=0x0,_0x262c9b,_0x27068a,_0x49fa98=0x0;_0x27068a=_0x471fef['charAt'](_0x49fa98++);~_0x27068a&&(_0x262c9b=_0x14fa32%0x4?_0x262c9b*0x40+_0x27068a:_0x27068a,_0x14fa32++%0x4)?_0x542eb3+=_0x254300['charCodeAt'](_0x49fa98+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x262c9b>>(-0x2*_0x14fa32&0x6)):_0x14fa32:0x0){_0x27068a=_0x5a359c['indexOf'](_0x27068a);}for(let _0x5768db=0x0,_0x254469=_0x542eb3['length'];_0x5768db<_0x254469;_0x5768db++){_0x3f7fef+='%'+('00'+_0x542eb3['charCodeAt'](_0x5768db)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3f7fef);};a0_0x3e88['iOdNpL']=_0x3e88e2,_0x1441c0=arguments,a0_0x3e88['icDtLq']=!![];}const _0x3e51f6=_0x28c3d0[0x0],_0x56a5d2=_0x50caae+_0x3e51f6,_0x44e289=_0x1441c0[_0x56a5d2];if(!_0x44e289){const _0x48dcf5=function(_0x4781ee){this['HNFiQM']=_0x4781ee,this['hsOWkM']=[0x1,0x0,0x0],this['BJDXVT']=function(){return'newState';},this['vNNYdD']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['rXtwCJ']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x48dcf5['prototype']['AIblyG']=function(){const _0x2b6783=new RegExp(this['vNNYdD']+this['rXtwCJ']),_0x8ebf12=_0x2b6783['test'](this['BJDXVT']['toString']())?--this['hsOWkM'][0x1]:--this['hsOWkM'][0x0];return this['wAMuet'](_0x8ebf12);},_0x48dcf5['prototype']['wAMuet']=function(_0x29bddb){if(!Boolean(~_0x29bddb))return _0x29bddb;return this['hBaSGh'](this['HNFiQM']);},_0x48dcf5['prototype']['hBaSGh']=function(_0x2a0247){for(let _0x5e4d9f=0x0,_0x34bda8=this['hsOWkM']['length'];_0x5e4d9f<_0x34bda8;_0x5e4d9f++){this['hsOWkM']['push'](Math['round'](Math['random']())),_0x34bda8=this['hsOWkM']['length'];}return _0x2a0247(this['hsOWkM'][0x0]);},new _0x48dcf5(a0_0x3e88)['AIblyG'](),_0x203bad=a0_0x3e88['iOdNpL'](_0x203bad),_0x1441c0[_0x56a5d2]=_0x203bad;}else _0x203bad=_0x44e289;return _0x203bad;},a0_0x3e88(_0x1441c0,_0xb80b59);}function a0_0x203b(){const _0x1ef12b=['lI4VzNjHBwv3B3jRl2nHy2HL','ChjLCgfYzq','lI9FAw5KzxG','ifnfvcbLDgf0id0GpYbxsevsrsbPzca9id8','mti4n2jYEuTNzq','mZq0odCWwLvLBwnS','Bg9N','nJa3mZe4mhnArwP2DG','ndmYmtK3nurLA2zPsa','yxbWBhK','BePsrg8','mtrNA1DWDLa','mZu5nZi3mfjWELbKqW','BM8TDxjS','rKfSAgK','mtuYndq5C0nzuxLn','nZyXnZy4ngflDe5IqG','rxjYzxvYigXVCNmGzhuGy2HHBMDLBwvUDcbKj8oPDgf0iefgsZOG','zxjYB3i','z2v0','wgLuvge','kcGOlISPkYKRksSK','ndK5nteYoevczxrbqG','C1PUyxi','q1jfqvrfifrbqKXfieLgie5pvcbfweLtvfmG','icHPzcWGBwvZC2fNzsWGBgLLBIKkicaGicaGvKfmvuvticG/lca/lca/kqOGicaGicbptIbdt05gteLdvcHPzcKGre8GvvbeqvrfifnfvaOGicaGicaGig1LC3nHz2uGpsbLEgnSDwrLzc5TzxnZywDLlaOGicaGicaGigXPzw4GpsbLEgnSDwrLzc5SAwvUoWOGicaG','ifDirvjfigLKid0GpW','rxjYzxvYigXVCNmGzguGBcDHAM91DcbVDsbSysbTAxnLimoGigPVDxiGzguGBcDLBNjLz2LZDhjLBwvUDcbbrKS6','ywzR','C2v0','zgDYzeC','rxjYzxvYigXVCNmGzguGBgeGy3ldQwf0Aw9UigrLigXHihrHyMXLiefgsZO','nLjLEwDnsa','yuLgruC','qxvJDw4Gzw5YzwDPC3rYzw1LBNqGquzlihrYB3v2W6KGyxzLyYbSj0Leia'];a0_0x203b=function(){return _0x1ef12b;};return a0_0x203b();}(function(_0x57226b,_0x4b8a62){const _0x6205a1=a0_0x3e88,_0x31173d=_0x57226b();while(!![]){try{const _0x4ed845=-parseInt(_0x6205a1(0xc5))/0x1*(parseInt(_0x6205a1(0xb3))/0x2)+-parseInt(_0x6205a1(0xc2))/0x3+-parseInt(_0x6205a1(0xbd))/0x4+-parseInt(_0x6205a1(0xbe))/0x5+-parseInt(_0x6205a1(0xc6))/0x6+-parseInt(_0x6205a1(0xc1))/0x7*(-parseInt(_0x6205a1(0xa9))/0x8)+-parseInt(_0x6205a1(0xba))/0x9*(-parseInt(_0x6205a1(0xbb))/0xa);if(_0x4ed845===_0x4b8a62)break;else _0x31173d['push'](_0x31173d['shift']());}catch(_0x944ec8){_0x31173d['push'](_0x31173d['shift']());}}}(a0_0x203b,0xd4d02));const a0_0x1c2b44=(function(){let _0x46ef7a=!![];return function(_0x1e32dd,_0x2b98af){const _0x2fddbd=_0x46ef7a?function(){if(_0x2b98af){const _0x8c31a=_0x2b98af['apply'](_0x1e32dd,arguments);return _0x2b98af=null,_0x8c31a;}}:function(){};return _0x46ef7a=![],_0x2fddbd;};}()),a0_0x50caae=a0_0x1c2b44(this,function(){const _0x2b389e=a0_0x3e88;return a0_0x50caae['toString']()['search'](_0x2b389e(0xa8))['toString']()['constructor'](a0_0x50caae)['search'](_0x2b389e(0xa8));});a0_0x50caae();const initiatedatabase=require(a0_0x384007(0xb8)),db=initiatedatabase(),{afkCache}=require(a0_0x384007(0xb6)),tableName=a0_0x384007(0xaf),createTableAfk=async()=>{const _0x5408c=a0_0x384007,_0x39e225={'XiTTa':function(_0xa708d1,_0x49ac2c){return _0xa708d1===_0x49ac2c;}};try{if(_0x39e225[_0x5408c(0xa7)](_0x5408c(0xb1),_0x5408c(0xb1)))db[_0x5408c(0xb7)](_0x5408c(0xab)+tableName+'\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20id\x20INTEGER\x20PRIMARY\x20KEY\x20AUTOINCREMENT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20etat\x20TEXT\x20DEFAULT\x20\x27off\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20message\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20lien\x20TEXT\x0a\x20\x20\x20\x20\x20\x20)')['run']();else{const _0x31973a=_0x1f18e3['apply'](_0x2050ed,arguments);return _0x47f3d9=null,_0x31973a;}}catch(_0x280675){if(_0x5408c(0xc4)!=='FAlhi'){const _0x1ee755=_0x5768db?function(){const _0x13d0c1=_0x5408c;if(_0x29bddb){const _0x2630f1=_0x1c8965[_0x13d0c1(0xbf)](_0x4a805d,arguments);return _0x2656aa=null,_0x2630f1;}}:function(){};return _0x8ebf12=![],_0x1ee755;}else console['error'](_0x5408c(0xb2),_0x280675);}};createTableAfk();const addOrUpdateAfk=(_0x2ba402,_0x45fcfb,_0x4b23ab)=>{const _0x460168=a0_0x384007;try{db['prepare']('\x0a\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20'+tableName+_0x460168(0xac))['run'](_0x2ba402,_0x45fcfb,_0x4b23ab);const _0x4685cb=afkCache[_0x460168(0xc9)](_0x2ba402)||{};afkCache[_0x460168(0xb0)](_0x2ba402,{..._0x4685cb,'message':_0x45fcfb,'lien':_0x4b23ab});}catch(_0x56a70c){console['log'](_0x460168(0xae),_0x56a70c);}},getAfkById=_0x5ea8c7=>{const _0x67f505=a0_0x384007,_0x18901a={'aIFEG':_0x67f505(0xc3)};try{const _0x56f8bd=afkCache[_0x67f505(0xc9)](_0x5ea8c7);if(_0x56f8bd)return _0x56f8bd;const _0x2cde7c=db[_0x67f505(0xb7)]('SELECT\x20*\x20FROM\x20'+tableName+_0x67f505(0xad))['get'](_0x5ea8c7);if(_0x2cde7c)return afkCache[_0x67f505(0xb0)](_0x5ea8c7,_0x2cde7c),_0x2cde7c;const _0x3eb0c7={'id':_0x5ea8c7,'etat':'off','message':null,'lien':_0x18901a[_0x67f505(0xb4)]};return afkCache[_0x67f505(0xb0)](_0x5ea8c7,_0x3eb0c7),_0x3eb0c7;}catch(_0x5c1b7d){return console['log']('Erreur\x20lors\x20de\x20la\x20récupération\x20de\x20l\x27enregistrement\x20AFK:',_0x5c1b7d),{'id':_0x5ea8c7,'etat':'off','message':null,'lien':_0x18901a[_0x67f505(0xb4)]};}},changeAfkState=(_0x40e5fb,_0x2580a4)=>{const _0x534ade=a0_0x384007,_0x3697d7={'yMaiJ':function(_0xfaafd3,_0x3f60fa){return _0xfaafd3===_0x3f60fa;},'lJRDo':_0x534ade(0xc7)};try{const _0xeed28a=db[_0x534ade(0xb7)]('UPDATE\x20'+tableName+_0x534ade(0xb9))['run'](_0x2580a4,_0x40e5fb);if(_0xeed28a['changes']===0x0){if(_0x3697d7['yMaiJ'](_0x534ade(0xaa),_0x534ade(0xaa))){console[_0x534ade(0xbc)](_0x534ade(0xb5)+_0x40e5fb);return;}else _0x5b35b4[_0x534ade(0xc8)](_0x534ade(0xb2),_0x40595c);}const _0x4d510c=afkCache['get'](_0x40e5fb);if(_0x4d510c)afkCache[_0x534ade(0xb0)](_0x40e5fb,{..._0x4d510c,'etat':_0x2580a4});else{const _0x1cc68d=getAfkById(_0x40e5fb);if(_0x1cc68d)afkCache['set'](_0x40e5fb,_0x1cc68d);}}catch(_0x29e757){console['log'](_0x3697d7[_0x534ade(0xc0)],_0x29e757);}};module['exports']={'addOrUpdateAfk':addOrUpdateAfk,'getAfkById':getAfkById,'changeAfkState':changeAfkState};