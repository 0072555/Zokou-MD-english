const a10_0x4053c8=a10_0x251b;(function(_0x63fdaa,_0x17298c){const _0x32bbf1=a10_0x251b,_0x3a5c6e=_0x63fdaa();while(!![]){try{const _0x5197a3=-parseInt(_0x32bbf1(0x96))/0x1+-parseInt(_0x32bbf1(0x7e))/0x2+parseInt(_0x32bbf1(0x98))/0x3+-parseInt(_0x32bbf1(0x85))/0x4*(parseInt(_0x32bbf1(0x8e))/0x5)+-parseInt(_0x32bbf1(0x82))/0x6+-parseInt(_0x32bbf1(0x7f))/0x7+parseInt(_0x32bbf1(0x9b))/0x8;if(_0x5197a3===_0x17298c)break;else _0x3a5c6e['push'](_0x3a5c6e['shift']());}catch(_0x323619){_0x3a5c6e['push'](_0x3a5c6e['shift']());}}}(a10_0xb301,0x8ca9b));const a10_0x337026=(function(){const _0x3ff79f=a10_0x251b,_0x10f66e={'MytUh':function(_0x438411,_0x4be260){return _0x438411!==_0x4be260;},'ltrgg':_0x3ff79f(0x8f)};let _0x3fdec6=!![];return function(_0x46e254,_0x17258e){const _0x1952f0=_0x3ff79f;if(_0x10f66e['MytUh'](_0x10f66e[_0x1952f0(0x92)],_0x1952f0(0x8f))){_0x383976[_0x1952f0(0x7d)](_0x1952f0(0x8c),_0x425f25['message']);throw _0x1459cd;}else{const _0x33774f=_0x3fdec6?function(){const _0x3f6cce=_0x1952f0;if(_0x17258e){if(_0x3f6cce(0x97)!==_0x3f6cce(0x97))throw _0x179b7c;else{const _0x3956aa=_0x17258e['apply'](_0x46e254,arguments);return _0x17258e=null,_0x3956aa;}}}:function(){};return _0x3fdec6=![],_0x33774f;}};}()),a10_0x28b5a1=a10_0x337026(this,function(){const _0xb26ed4=a10_0x251b;return a10_0x28b5a1['toString']()[_0xb26ed4(0x95)](_0xb26ed4(0x84))[_0xb26ed4(0x80)]()[_0xb26ed4(0x86)](a10_0x28b5a1)[_0xb26ed4(0x95)]('(((.+)+)+)+$');});a10_0x28b5a1();const openConnection=require(a10_0x4053c8(0x83)),db=openConnection(),createUsersRankTable=()=>{const _0x2876fe=a10_0x4053c8;try{db[_0x2876fe(0x89)]('\x0a\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20users_rank\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20id\x20INTEGER\x20PRIMARY\x20KEY\x20AUTOINCREMENT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20jid\x20TEXT\x20UNIQUE,\x0a\x20\x20\x20\x20\x20\x20\x20\x20xp\x20INTEGER\x20DEFAULT\x200,\x0a\x20\x20\x20\x20\x20\x20\x20\x20messages\x20INTEGER\x20DEFAULT\x200\x0a\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20')[_0x2876fe(0x88)]();}catch(_0x3560da){console[_0x2876fe(0x7d)]('Erreur\x20lors\x20de\x20la\x20création\x20de\x20la\x20table\x20\x27users_rank\x27:',_0x3560da[_0x2876fe(0x8d)]);throw _0x3560da;}};function a10_0x251b(_0x4b10e9,_0x4d2689){const _0xacd915=a10_0xb301();return a10_0x251b=function(_0x28b5a1,_0x337026){_0x28b5a1=_0x28b5a1-0x7d;let _0xb3018e=_0xacd915[_0x28b5a1];if(a10_0x251b['fewKzw']===undefined){var _0x251b44=function(_0x2250c0){const _0x47efd9='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x3213ce='',_0x3f9550='',_0x1041f1=_0x3213ce+_0x251b44;for(let _0x2abd14=0x0,_0xba01fd,_0x59bbf7,_0x35dcc7=0x0;_0x59bbf7=_0x2250c0['charAt'](_0x35dcc7++);~_0x59bbf7&&(_0xba01fd=_0x2abd14%0x4?_0xba01fd*0x40+_0x59bbf7:_0x59bbf7,_0x2abd14++%0x4)?_0x3213ce+=_0x1041f1['charCodeAt'](_0x35dcc7+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0xba01fd>>(-0x2*_0x2abd14&0x6)):_0x2abd14:0x0){_0x59bbf7=_0x47efd9['indexOf'](_0x59bbf7);}for(let _0x340d70=0x0,_0x313804=_0x3213ce['length'];_0x340d70<_0x313804;_0x340d70++){_0x3f9550+='%'+('00'+_0x3213ce['charCodeAt'](_0x340d70)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3f9550);};a10_0x251b['iENeNf']=_0x251b44,_0x4b10e9=arguments,a10_0x251b['fewKzw']=!![];}const _0x7042d3=_0xacd915[0x0],_0x6eddc2=_0x28b5a1+_0x7042d3,_0xece3bc=_0x4b10e9[_0x6eddc2];if(!_0xece3bc){const _0xf11c08=function(_0x5c2cf5){this['BJYRfz']=_0x5c2cf5,this['pWpDJo']=[0x1,0x0,0x0],this['zvXReM']=function(){return'newState';},this['OnmmgZ']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['XfFsNZ']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0xf11c08['prototype']['szLWvN']=function(){const _0x8ae192=new RegExp(this['OnmmgZ']+this['XfFsNZ']),_0x41de03=_0x8ae192['test'](this['zvXReM']['toString']())?--this['pWpDJo'][0x1]:--this['pWpDJo'][0x0];return this['jEkVgQ'](_0x41de03);},_0xf11c08['prototype']['jEkVgQ']=function(_0xcecdb2){if(!Boolean(~_0xcecdb2))return _0xcecdb2;return this['KpbsVa'](this['BJYRfz']);},_0xf11c08['prototype']['KpbsVa']=function(_0x6eb549){for(let _0x300676=0x0,_0x4b84e6=this['pWpDJo']['length'];_0x300676<_0x4b84e6;_0x300676++){this['pWpDJo']['push'](Math['round'](Math['random']())),_0x4b84e6=this['pWpDJo']['length'];}return _0x6eb549(this['pWpDJo'][0x0]);},new _0xf11c08(a10_0x251b)['szLWvN'](),_0xb3018e=a10_0x251b['iENeNf'](_0xb3018e),_0x4b10e9[_0x6eddc2]=_0xb3018e;}else _0xb3018e=_0xece3bc;return _0xb3018e;},a10_0x251b(_0x4b10e9,_0x4d2689);}createUsersRankTable();function a10_0xb301(){const _0x3102cc=['zxHWB3j0CW','CNfqAgO','mJq5nde4mdHeALDjrKG','zxjYB3i','nJuWmZC2ExvdC2Lc','mZC2ntu3m01HBKH6Dq','Dg9tDhjPBMC','sw9Oqui','mZu1nduWmKfosffhBq','lI9FAw5KzxG','kcGOlISPkYKRksSK','mJH0v2PgDei','y29UC3rYDwn0B3i','qMfZv0K','CNvU','ChjLCgfYzq','rxjYzxvYigXVCNmGzguGBgeGCSoPy3vWW6LYyxrPB24GzgvZigrVBM7dQwvZihv0AwXPC2f0zxvYoG','z2v0','rxjYzxvYigXVCNmGzguGBgeGy3ldQwf0Aw9UigrLigXHihrHyMXLicD1C2vYC19Yyw5RjZO','BwvZC2fNzq','ndyZnduWqK1tvwPg','zMjSEwK','zeXQvwi','DeLeBhi','BhrYz2C','ywXS','cIaGicaGifnftevdvcbTzxnZywDLCYWGEhaGrLjptsb1C2vYC19Yyw5RifDirvjfigPPzca9id87cIaGica','C2vHCMnO','nZuXmZq3rxjIELrn','ugTLuK0','otqYnduWqxv4vvrZ'];a10_0xb301=function(){return _0x3102cc;};return a10_0xb301();}const ajouterOuMettreAJourUserData=(_0xa4fa3a,_0x5a48f1=0xa,_0x1884bb=0x1)=>{const _0x22edb4=a10_0x4053c8;if(!_0xa4fa3a)return;try{db[_0x22edb4(0x89)]('\x0a\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20users_rank\x20(jid,\x20xp,\x20messages)\x0a\x20\x20\x20\x20\x20\x20VALUES\x20(?,\x20?,\x20?)\x0a\x20\x20\x20\x20\x20\x20ON\x20CONFLICT(jid)\x20DO\x20UPDATE\x20SET\x0a\x20\x20\x20\x20\x20\x20\x20\x20xp\x20=\x20xp\x20+\x20excluded.xp,\x0a\x20\x20\x20\x20\x20\x20\x20\x20messages\x20=\x20messages\x20+\x20excluded.messages;\x0a\x20\x20\x20\x20')[_0x22edb4(0x88)](_0xa4fa3a,_0x5a48f1,_0x1884bb);}catch(_0x42365b){throw _0x42365b;}},getMessagesAndXPByJID=_0x599833=>{const _0x4b53b1=a10_0x4053c8,_0x375a93={'rqPhj':_0x4b53b1(0x81)};if(!_0x599833)return{'messages':0x0,'xp':0x0};try{if(_0x375a93[_0x4b53b1(0x9a)]===_0x4b53b1(0x81)){const _0x45ed0c=db['prepare']('\x0a\x20\x20\x20\x20\x20\x20SELECT\x20messages,\x20xp\x20FROM\x20users_rank\x20WHERE\x20jid\x20=\x20?;\x0a\x20\x20\x20\x20')[_0x4b53b1(0x8b)](_0x599833);return _0x45ed0c||{'messages':0x0,'xp':0x0};}else{_0x5d984b['error']('Erreur\x20lors\x20de\x20la\x20récupération\x20des\x20données\x20utilisateur:',_0x134f4e[_0x4b53b1(0x8d)]);throw _0x41ca41;}}catch(_0x382a8d){console[_0x4b53b1(0x7d)](_0x4b53b1(0x8a),_0x382a8d[_0x4b53b1(0x8d)]);throw _0x382a8d;}},getBottom10Users=()=>{const _0x4749df=a10_0x4053c8,_0x4427db={'PPnCI':_0x4749df(0x91),'BasWI':'Erreur\x20lors\x20de\x20la\x20récupération\x20du\x20top\x2010:'};try{if(_0x4427db['PPnCI']===_0x4749df(0x90)){const _0xe9942=_0x2bbb02[_0x4749df(0x89)](_0x4749df(0x94))[_0x4749df(0x8b)](_0x5288f8);return _0xe9942||{'messages':0x0,'xp':0x0};}else{const _0x4a2457=db['prepare']('\x0a\x20\x20\x20\x20\x20\x20SELECT\x20jid,\x20xp,\x20messages\x0a\x20\x20\x20\x20\x20\x20FROM\x20users_rank\x0a\x20\x20\x20\x20\x20\x20ORDER\x20BY\x20xp\x20DESC\x0a\x20\x20\x20\x20\x20\x20LIMIT\x2010;\x0a\x20\x20\x20\x20')[_0x4749df(0x93)]();return _0x4a2457;}}catch(_0x42b6c0){console['error'](_0x4427db[_0x4749df(0x87)],_0x42b6c0[_0x4749df(0x8d)]);throw _0x42b6c0;}};module[a10_0x4053c8(0x99)]={'ajouterOuMettreAJourUserData':ajouterOuMettreAJourUserData,'getMessagesAndXPByJID':getMessagesAndXPByJID,'getBottom10Users':getBottom10Users};