const a9_0x317bbe=a9_0x227d;(function(_0x3de90f,_0x534873){const _0x251fc9=a9_0x227d,_0x48fd02=_0x3de90f();while(!![]){try{const _0x528e48=parseInt(_0x251fc9(0xa9))/0x1*(parseInt(_0x251fc9(0x9f))/0x2)+-parseInt(_0x251fc9(0xb0))/0x3*(parseInt(_0x251fc9(0x97))/0x4)+parseInt(_0x251fc9(0xb6))/0x5*(-parseInt(_0x251fc9(0x96))/0x6)+-parseInt(_0x251fc9(0xb3))/0x7+-parseInt(_0x251fc9(0xaf))/0x8*(-parseInt(_0x251fc9(0x95))/0x9)+parseInt(_0x251fc9(0xa6))/0xa*(-parseInt(_0x251fc9(0xb1))/0xb)+parseInt(_0x251fc9(0x9b))/0xc;if(_0x528e48===_0x534873)break;else _0x48fd02['push'](_0x48fd02['shift']());}catch(_0x9fbd42){_0x48fd02['push'](_0x48fd02['shift']());}}}(a9_0x5239,0x97ea8),require(a9_0x317bbe(0xa5))[a9_0x317bbe(0xa7)]());const {Pool}=require('pg'),s=require(a9_0x317bbe(0x9c)),dbUrl=s[a9_0x317bbe(0xaa)]?s[a9_0x317bbe(0xaa)]:'postgres://db_7xp9_user:6hwmTN7rGPNsjlBEHyX49CXwrG7cDeYi@dpg-cj7ldu5jeehc73b2p7g0-a.oregon-postgres.render.com/db_7xp9',proConfig={'connectionString':dbUrl,'ssl':{'rejectUnauthorized':![]}},pool=new Pool(proConfig);async function createUsersRankTable(){const _0x194c12=a9_0x317bbe,_0x1f76fa=(function(){let _0x132239=!![];return function(_0x36cefa,_0x401729){const _0x4f3022=_0x132239?function(){if(_0x401729){const _0x3529ae=_0x401729['apply'](_0x36cefa,arguments);return _0x401729=null,_0x3529ae;}}:function(){};return _0x132239=![],_0x4f3022;};}()),_0x10196c=_0x1f76fa(this,function(){const _0x6e7dea=a9_0x227d;return _0x10196c['toString']()[_0x6e7dea(0xa4)](_0x6e7dea(0x98))['toString']()['constructor'](_0x10196c)[_0x6e7dea(0xa4)]('(((.+)+)+)+$');});_0x10196c();const _0x47ea38=await pool['connect']();try{await _0x47ea38['query'](_0x194c12(0xa3));}catch(_0x7cd648){console[_0x194c12(0x9e)](_0x194c12(0xa2),_0x7cd648);}finally{_0x47ea38[_0x194c12(0x9a)]();}}async function ajouterOuMettreAJourUserData(_0x1ea837,_0xccb3f7=0xa,_0x4bb595=0x1){const _0x4ce4c9=a9_0x317bbe,_0x47f3d1=await pool[_0x4ce4c9(0xa1)]();try{const _0x2b4375=await _0x47f3d1[_0x4ce4c9(0xae)](_0x4ce4c9(0x99),[_0x1ea837]),_0xe654f3=_0x2b4375[_0x4ce4c9(0xb5)]['length']>0x0;_0xe654f3?await _0x47f3d1[_0x4ce4c9(0xae)]('UPDATE\x20users_rank\x20SET\x20xp\x20=\x20xp\x20+\x20$2,\x20messages\x20=\x20messages\x20+\x20$3\x20WHERE\x20jid\x20=\x20$1',[_0x1ea837,_0xccb3f7,_0x4bb595]):await _0x47f3d1['query'](_0x4ce4c9(0xab),[_0x1ea837,_0xccb3f7,_0x4bb595]);}catch(_0x52ecf8){console[_0x4ce4c9(0x9e)](_0x4ce4c9(0xa8),_0x52ecf8);}finally{_0x47f3d1[_0x4ce4c9(0x9a)]();}};async function getMessagesAndXPByJID(_0x25e2ff){const _0x40c8c4=a9_0x317bbe,_0x5d025a=await pool[_0x40c8c4(0xa1)]();try{const _0x1bfea3=_0x40c8c4(0xad),_0x2cd1c3=await _0x5d025a[_0x40c8c4(0xae)](_0x1bfea3,[_0x25e2ff]);if(_0x2cd1c3[_0x40c8c4(0xb5)][_0x40c8c4(0xac)]>0x0){const {messages:_0x43e6c7,xp:_0x107b5a}=_0x2cd1c3[_0x40c8c4(0xb5)][0x0];return{'messages':_0x43e6c7,'xp':_0x107b5a};}else return{'messages':0x0,'xp':0x0};}catch(_0x530434){return console[_0x40c8c4(0x9e)](_0x40c8c4(0xb4),_0x530434),{'messages':0x0,'xp':0x0};}finally{_0x5d025a[_0x40c8c4(0x9a)]();}}function a9_0x227d(_0x15adfd,_0x6165b2){const _0x3c5758=a9_0x5239();return a9_0x227d=function(_0x36a261,_0x4466f7){_0x36a261=_0x36a261-0x95;let _0x52394f=_0x3c5758[_0x36a261];return _0x52394f;},a9_0x227d(_0x15adfd,_0x6165b2);}async function getBottom10Users(){const _0x4173c1=a9_0x317bbe,_0x137aa2=await pool[_0x4173c1(0xa1)]();try{const _0x5c0307=_0x4173c1(0xb2),_0x2e604f=await _0x137aa2[_0x4173c1(0xae)](_0x5c0307);return _0x2e604f[_0x4173c1(0xb5)];}catch(_0x6cd5f6){return console['error'](_0x4173c1(0xa0),_0x6cd5f6),[];}finally{_0x137aa2[_0x4173c1(0x9a)]();}}createUsersRankTable(),module[a9_0x317bbe(0x9d)]={'ajouterOuMettreAJourUserData':ajouterOuMettreAJourUserData,'getMessagesAndXPByJID':getMessagesAndXPByJID,'getBottom10Users':getBottom10Users};function a9_0x5239(){const _0x53511c=['42HkmCDn','11bIfsQd','SELECT\x20jid,\x20xp\x20,\x20messages\x20FROM\x20users_rank\x20ORDER\x20BY\x20xp\x20DESC\x20LIMIT\x2010','4011931sRUOqa','Erreur\x20lors\x20de\x20la\x20récupération\x20des\x20données\x20de\x20l\x27utilisateur:','rows','40180cxhNah','208737HXCssT','786poZCtq','103420bkyffA','(((.+)+)+)+$','SELECT\x20*\x20FROM\x20users_rank\x20WHERE\x20jid\x20=\x20$1','release','32986788ORKHaj','../set','exports','error','1836626TTxkMj','Erreur\x20lors\x20de\x20la\x20récupération\x20du\x20bottom\x2010\x20des\x20utilisateurs:','connect','Erreur\x20lors\x20de\x20la\x20création\x20de\x20la\x20table\x20users_rank:','\x0a\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20users_rank\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20id\x20SERIAL\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20jid\x20VARCHAR(255)\x20UNIQUE,\x0a\x20\x20\x20\x20\x20\x20\x20\x20xp\x20INTEGER\x20DEFAULT\x200,\x0a\x20\x20\x20\x20\x20\x20\x20\x20messages\x20INTEGER\x20DEFAULT\x200\x0a\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20','search','dotenv','10803380NiYLPb','config','Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20des\x20données\x20de\x20l\x27utilisateur:','1XInULs','DATABASE_URL','INSERT\x20INTO\x20users_rank\x20(jid,\x20xp,\x20messages)\x20VALUES\x20($1,\x20$2,\x20$3)','length','SELECT\x20messages,\x20xp\x20FROM\x20users_rank\x20WHERE\x20jid\x20=\x20$1','query','8jUEIER'];a9_0x5239=function(){return _0x53511c;};return a9_0x5239();}