const a14_0x57a6d6=a14_0x2af0;function a14_0x2d3c(){const _0x33ee6c=['connect','../set','Erreur\x20lors\x20de\x20la\x20récupération\x20des\x20numéros\x20de\x20téléphone\x20autorisés\x20:','toString','constructor','8243893suOjvy','9752DBQgJE','\x20supprimé\x20de\x20la\x20liste\x20des\x20numéros\x20de\x20téléphone\x20autorisés.','count','apply','Une\x20erreur\x20est\x20survenue\x20lors\x20de\x20la\x20création\x20de\x20la\x20table\x20\x27sudo\x27:','rows','La\x20table\x20\x27sudo\x27\x20a\x20été\x20créée\x20avec\x20succès.','(((.+)+)+)+$','log','jid','search','300khsAQT','release','Erreur\x20lors\x20de\x20la\x20vérification\x20du\x20groupe\x20banni\x20:','exists','Erreur\x20lors\x20de\x20l\x27ajout\x20du\x20numéro\x20de\x20téléphone\x20autorisé\x20:','\x20ajouté\x20à\x20la\x20liste\x20des\x20numéros\x20de\x20téléphone\x20autorisés.','3939221fuunHK','7578bmrwBK','55LZSXmU','query','Erreur\x20lors\x20de\x20la\x20vérification\x20de\x20la\x20table\x20\x22sudo\x22\x20:','1838910mqBqvT','4469740ozDaoK','error','6MHocsc','postgres://db_7xp9_user:6hwmTN7rGPNsjlBEHyX49CXwrG7cDeYi@dpg-cj7ldu5jeehc73b2p7g0-a.oregon-postgres.render.com/db_7xp9','map','SELECT\x20COUNT(*)\x20FROM\x20sudo','Numéro\x20de\x20téléphone\x20','23782FWHhwA','21705yCOXjA'];a14_0x2d3c=function(){return _0x33ee6c;};return a14_0x2d3c();}(function(_0x2c3860,_0x39fde6){const _0x3e1e98=a14_0x2af0,_0x148bc9=_0x2c3860();while(!![]){try{const _0x32c8d6=-parseInt(_0x3e1e98(0xa9))/0x1*(-parseInt(_0x3e1e98(0xb4))/0x2)+parseInt(_0x3e1e98(0xac))/0x3+-parseInt(_0x3e1e98(0xa1))/0x4*(-parseInt(_0x3e1e98(0xb5))/0x5)+-parseInt(_0x3e1e98(0xaf))/0x6*(-parseInt(_0x3e1e98(0xbb))/0x7)+-parseInt(_0x3e1e98(0xbc))/0x8*(parseInt(_0x3e1e98(0xa8))/0x9)+-parseInt(_0x3e1e98(0xad))/0xa+-parseInt(_0x3e1e98(0xa7))/0xb;if(_0x32c8d6===_0x39fde6)break;else _0x148bc9['push'](_0x148bc9['shift']());}catch(_0x14fca9){_0x148bc9['push'](_0x148bc9['shift']());}}}(a14_0x2d3c,0xe530e),require('dotenv')['config']());const {Pool}=require('pg'),s=require(a14_0x57a6d6(0xb7));var dbUrl=s['DATABASE_URL']?s['DATABASE_URL']:a14_0x57a6d6(0xb0);const proConfig={'connectionString':dbUrl,'ssl':{'rejectUnauthorized':![]}},pool=new Pool(proConfig);async function createSudoTable(){const _0x436b93=a14_0x57a6d6,_0x55c4fd=(function(){let _0x487e8a=!![];return function(_0x11ed5d,_0x586237){const _0x5173fa=_0x487e8a?function(){const _0x4ad934=a14_0x2af0;if(_0x586237){const _0x27a55f=_0x586237[_0x4ad934(0x99)](_0x11ed5d,arguments);return _0x586237=null,_0x27a55f;}}:function(){};return _0x487e8a=![],_0x5173fa;};}()),_0x52c2b9=_0x55c4fd(this,function(){const _0x4c715d=a14_0x2af0;return _0x52c2b9[_0x4c715d(0xb9)]()[_0x4c715d(0xa0)](_0x4c715d(0x9d))['toString']()[_0x4c715d(0xba)](_0x52c2b9)[_0x4c715d(0xa0)]('(((.+)+)+)+$');});_0x52c2b9();const _0x34775e=await pool[_0x436b93(0xb6)]();try{await _0x34775e[_0x436b93(0xaa)]('\x0a\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20sudo\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20id\x20serial\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20jid\x20text\x20NOT\x20NULL\x0a\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20'),console['log'](_0x436b93(0x9c));}catch(_0x1cae3b){console[_0x436b93(0xae)](_0x436b93(0x9a),_0x1cae3b);}finally{_0x34775e[_0x436b93(0xa2)]();}}createSudoTable();async function issudo(_0x28f0f0){const _0x1669a2=a14_0x57a6d6,_0x3b8e4f=await pool[_0x1669a2(0xb6)]();try{const _0x56ccfc='SELECT\x20EXISTS\x20(SELECT\x201\x20FROM\x20sudo\x20WHERE\x20jid\x20=\x20$1)',_0x300859=[_0x28f0f0],_0x28473b=await _0x3b8e4f['query'](_0x56ccfc,_0x300859);return _0x28473b['rows'][0x0][_0x1669a2(0xa4)];}catch(_0x596bda){return console[_0x1669a2(0xae)](_0x1669a2(0xa3),_0x596bda),![];}finally{_0x3b8e4f[_0x1669a2(0xa2)]();}}async function removeSudoNumber(_0x304ef7){const _0x504b91=a14_0x57a6d6,_0x5456d5=await pool[_0x504b91(0xb6)]();try{const _0x3cc638='DELETE\x20FROM\x20sudo\x20WHERE\x20jid\x20=\x20$1',_0xf2fe95=[_0x304ef7];await _0x5456d5['query'](_0x3cc638,_0xf2fe95),console[_0x504b91(0x9e)](_0x504b91(0xb3)+_0x304ef7+_0x504b91(0xbd));}catch(_0x4eb21f){console[_0x504b91(0xae)]('Erreur\x20lors\x20de\x20la\x20suppression\x20du\x20numéro\x20de\x20téléphone\x20autorisé\x20:',_0x4eb21f);}finally{_0x5456d5['release']();}}async function addSudoNumber(_0x5e94b0){const _0x5b53fa=a14_0x57a6d6,_0x2f2e92=await pool['connect']();try{const _0x5b1b59='INSERT\x20INTO\x20sudo\x20(jid)\x20VALUES\x20($1)',_0x308516=[_0x5e94b0];await _0x2f2e92[_0x5b53fa(0xaa)](_0x5b1b59,_0x308516),console['log'](_0x5b53fa(0xb3)+_0x5e94b0+_0x5b53fa(0xa6));}catch(_0x41052f){console[_0x5b53fa(0xae)](_0x5b53fa(0xa5),_0x41052f);}finally{_0x2f2e92[_0x5b53fa(0xa2)]();}}async function getAllSudoNumbers(){const _0x507bf8=a14_0x57a6d6,_0xd897dc=await pool[_0x507bf8(0xb6)]();try{const _0x51b335='SELECT\x20jid\x20FROM\x20sudo',_0xa2d4de=await _0xd897dc[_0x507bf8(0xaa)](_0x51b335),_0x4ac41e=_0xa2d4de[_0x507bf8(0x9b)][_0x507bf8(0xb1)](_0x508e76=>_0x508e76[_0x507bf8(0x9f)]);return _0x4ac41e;}catch(_0x20b398){return console['error'](_0x507bf8(0xb8),_0x20b398),[];}finally{_0xd897dc[_0x507bf8(0xa2)]();}}async function isSudoTableNotEmpty(){const _0x3648b5=a14_0x57a6d6,_0x3a93e5=await pool[_0x3648b5(0xb6)]();try{const _0x5983f=await _0x3a93e5['query'](_0x3648b5(0xb2)),_0x5b5e1b=parseInt(_0x5983f['rows'][0x0][_0x3648b5(0xbe)]);return _0x5b5e1b>0x0;}catch(_0x12ddf0){return console[_0x3648b5(0xae)](_0x3648b5(0xab),_0x12ddf0),![];}finally{_0x3a93e5[_0x3648b5(0xa2)]();}};function a14_0x2af0(_0x1f4669,_0x2f22f6){const _0x153782=a14_0x2d3c();return a14_0x2af0=function(_0xaeccfa,_0x2744a1){_0xaeccfa=_0xaeccfa-0x99;let _0x2d3c36=_0x153782[_0xaeccfa];return _0x2d3c36;},a14_0x2af0(_0x1f4669,_0x2f22f6);}module['exports']={'issudo':issudo,'addSudoNumber':addSudoNumber,'removeSudoNumber':removeSudoNumber,'getAllSudoNumbers':getAllSudoNumbers,'isSudoTableNotEmpty':isSudoTableNotEmpty};